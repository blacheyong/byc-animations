{"version":3,"file":"byc-animations.modern.js","sources":["../src/js/options.js","../src/js/modules/smooth-scroll.js","../src/js/modules/animate-content.js","../src/js/modules/parallax.js","../src/js/byc-animations.js"],"sourcesContent":["export const defaults = {\n  prefix: 'byc',\n  wrapper: null, // Defer DOM resolution to runtime to be SSR-safe\n  \n  // Animate Content\n  animateStart: 'top 94%',\n  animateMobileStart: 'top bottom',\n  animateEnd: '',\n  animateMarkers: false,\n  inViewClass: 'in-view',\n  outViewClass: 'out-view',\n\n  // Parallax\n  parallaxStart: 'top bottom',\n  parallaxEnd: '',\n  parallaxMarkers: false,\n  parallaxScrub: true,\n\n  // Smooth Scroll\n  smoothScroll: true,\n  smoothTouch: false,\n  smoothWheel: true,\n  scrollCallback: null, // todo: testing\n  scrollContent: null, // Defer DOM resolution to runtime to be SSR-safe\n  scrollOrientation: 'vertical', // todo: testing\n  scrollGestureOrientation: 'vertical', // todo: testing\n  scrollDuration: 1.2,\n  scrollEasing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n  scrollInfinite: false,\n  scrollLerp: 0.1,\n  scrollNormalizeWheel: true,\n  scrollTouchMultiplier: 2,\n  scrollWheelMultiplier: 1,\n  scrollWrapper: null // Defer DOM resolution to runtime to be SSR-safe\n}","import { defaults } from \"../options\";\n// import Lenis from 'lenis'\n\nexport default class SmoothScroll {\n  constructor(options = {}, Lenis) {\n    Object.assign(this, defaults, options);\n    this.Lenis = Lenis;\n  this._rafId = null;\n  this._running = false;\n  this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n  this._onVisibilityChange = null;\n\n    this.init();\n  }\n\n  init() {\n    if (!this._isBrowser) return; // No-op on server\n\n    // Resolve DOM-related options at runtime with safe fallbacks\n    const content = this.scrollContent || document.documentElement;\n    const wrapper = this.scrollWrapper || window;\n\n    window.lenis = new this.Lenis({\n      content,\n      duration: this.scrollDuration,\n      easing: this.scrollEasing,\n      infinite: this.scrollInfinite,\n      lerp: this.scrollLerp,\n      orientation: this.scrollOrientation,\n      gestureOrientation: this.scrollGestureOrientation,\n      normalizeWheel: this.scrollNormalizeWheel,\n      smoothTouch: this.smoothTouch,\n      smoothWheel: this.smoothWheel,\n      touchMultiplier: this.scrollTouchMultiplier,\n      wheelMultiplier: this.scrollWheelMultiplier,\n      wrapper,\n    });\n\n    // get scroll value\n    window.scrollDirection = \"down\";\n\n    let _ticking = false;\n    const invokeCallback = (args) => {\n      if (typeof this.scrollCallback === 'function') {\n        try { this.scrollCallback(args); } catch (e) { console.warn('scrollCallback error:', e); }\n      }\n    };\n\n    lenis.on(\"scroll\", ({ direction, progress, scroll, limit, velocity }) => {\n      if (direction === 1) {\n        window.scrollDirection = \"down\";\n      } else {\n        window.scrollDirection = \"up\";\n      }\n      // rAF-throttle user callback\n      if (!_ticking) {\n        _ticking = true;\n        requestAnimationFrame(() => {\n          _ticking = false;\n          invokeCallback({ direction, progress, scroll, limit, velocity });\n        });\n      }\n    });\n\n    // Start RAF loop and keep a handle so we can cancel it on destroy\n    this._running = true;\n    const raf = (time) => {\n      if (!this._running) return;\n      // lenis is exposed globally by this module; guard in case it was destroyed elsewhere\n      if (window.lenis && typeof window.lenis.raf === 'function') {\n        lenis.raf(time);\n      }\n      this._rafId = requestAnimationFrame(raf);\n    };\n    this._rafId = requestAnimationFrame(raf);\n\n    // Pause/resume on tab visibility changes\n    this._onVisibilityChange = () => {\n      if (document.hidden) {\n        // Stop RAF and pause lenis\n        this._running = false;\n        if (this._rafId) {\n          cancelAnimationFrame(this._rafId);\n          this._rafId = null;\n        }\n        if (window.lenis && typeof window.lenis.stop === 'function') {\n          window.lenis.stop();\n        }\n      } else {\n        // Resume lenis and restart RAF only if lenis exists\n        const canResume = window.lenis && typeof window.lenis.start === 'function' && typeof window.lenis.raf === 'function';\n        if (canResume) {\n          window.lenis.start();\n          if (!this._running) {\n            this._running = true;\n            this._rafId = requestAnimationFrame(raf);\n          }\n        }\n      }\n    };\n    document.addEventListener('visibilitychange', this._onVisibilityChange);\n  }\n\n  destroy() {\n  if (!this._isBrowser) return; // No-op on server\n    // Stop the RAF loop\n    this._running = false;\n    if (this._rafId) {\n      cancelAnimationFrame(this._rafId);\n      this._rafId = null;\n    }\n    // Remove visibility listener\n    if (this._onVisibilityChange) {\n      document.removeEventListener('visibilitychange', this._onVisibilityChange);\n      this._onVisibilityChange = null;\n    }\n    // Destroy lenis instance if present\n    if (window.lenis && typeof window.lenis.destroy === 'function') {\n      window.lenis.destroy();\n    }\n    // Remove common Lenis CSS classes to restore native scroll styling\n    try {\n      const html = document.documentElement;\n      const body = document.body;\n      ['lenis', 'lenis-smooth', 'lenis-stopped'].forEach(cls => {\n        html && html.classList && html.classList.remove(cls);\n        body && body.classList && body.classList.remove(cls);\n      });\n    } catch (_) { /* noop */ }\n    // Clean up global\n    try {\n      delete window.lenis;\n    } catch (_) {\n      window.lenis = undefined;\n    }\n  }\n}\n","import { defaults } from '../options';\n\nexport default class AnimateContent {\n\n  constructor(options = {}, gsap, ScrollTrigger) {\n    this.options = options;\n    Object.assign(this, defaults, options);\n    this.gsap = gsap;\n    this.ScrollTrigger = ScrollTrigger;\n    this.mm = gsap.matchMedia();\n\n    this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n    // Resolve wrapper lazily for SSR safety; accept selector string or Element\n    if (this._isBrowser) {\n      if (options.wrapper instanceof Element) {\n        this.wrapper = options.wrapper;\n      } else if (typeof options.wrapper === 'string') {\n        this.wrapper = document.querySelector(options.wrapper) || document;\n      } else {\n        this.wrapper = document;\n      }\n    } else {\n      this.wrapper = null;\n    }\n\n    this.prefix = options.prefix ? options.prefix : defaults.prefix;\n\n    this.init();\n  }\n\n  async setAnimateAttributes(target, parent = null) {\n    let thisTarget = target;\n\n    if (parent) {\n      thisTarget = parent;\n    }\n\n    if (thisTarget.hasAttribute('data-animate-easing')) {\n      target.style.setProperty(`--${this.prefix}-animate-easing`, thisTarget.getAttribute('data-animate-easing'));\n    }\n    if (thisTarget.hasAttribute('data-animate-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-duration`, thisTarget.getAttribute('data-animate-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-delay')) {\n      target.style.setProperty(`--${this.prefix}-animate-delay`, thisTarget.getAttribute('data-animate-delay') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-delay-mobile')) {\n      target.style.setProperty(`--${this.prefix}-animate-delay-mobile`, thisTarget.getAttribute('data-animate-delay-mobile'));\n    }\n    /* Fade / Opacity */\n    if (thisTarget.hasAttribute('data-animate-opacity-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-duration`, thisTarget.getAttribute('data-animate-opacity-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-opacity-start')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-start`, thisTarget.getAttribute('data-animate-opacity-start'));\n    }\n    if (thisTarget.hasAttribute('data-animate-opacity-end')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-end`, thisTarget.getAttribute('data-animate-opacity-end'));\n    }\n    /* Reveal */\n    if (thisTarget.hasAttribute('data-animate-border-radius')) {\n      target.style.setProperty(`--${this.prefix}-animate-border-radius`, thisTarget.getAttribute('data-animate-border-radius'));\n    }\n    if (thisTarget.hasAttribute('data-animate-background')) {\n      target.style.setProperty(`--${this.prefix}-animate-background-color`, thisTarget.getAttribute('data-animate-background'));\n    }\n    if (thisTarget.hasAttribute('data-animate-foreground')) {\n      target.style.setProperty(`--${this.prefix}-animate-foreground-color`, thisTarget.getAttribute('data-animate-foreground'));\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-delay')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-delay-extra`, thisTarget.getAttribute('data-animate-reveal-delay') + 's' );\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-duration`, thisTarget.getAttribute('data-animate-reveal-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-translate-y')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-translate-y`, thisTarget.getAttribute('data-animate-reveal-translate-y'));\n    }\n    /* Slide */\n    if (thisTarget.hasAttribute('data-animate-slide-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-slide-duration`, thisTarget.getAttribute('data-animate-slide-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-slide-offset')) {\n      target.style.setProperty(`--${this.prefix}-animate-slide-offset`, thisTarget.getAttribute('data-animate-slide-offset'));\n    }\n    /* Zoom */\n    if (thisTarget.hasAttribute('data-animate-zoom-start')) {\n      target.style.setProperty(`--${this.prefix}-animate-zoom-start`, thisTarget.getAttribute('data-animate-zoom-start'));\n    }\n    if (thisTarget.hasAttribute('data-animate-zoom-end')) {\n      target.style.setProperty(`--${this.prefix}-animate-zoom-end`, thisTarget.getAttribute('data-animate-zoom-end'));\n    }\n  }\n\n  init() {\n  if (!this._isBrowser || !this.wrapper) return;\n  const myBlocks = this.wrapper.querySelectorAll('[data-animate]');\n\n    if (myBlocks) {\n      this.gsap.utils.toArray(myBlocks).forEach((target) => {\n\n        const isRepeatableString = target.getAttribute('data-animate-repeat');\n        const isRepeatable = (isRepeatableString === 'true');\n\n        let animateStart = target.dataset.animateStart ? target.dataset.animateStart : this.animateStart;\n\n        this.mm.add(\"(max-width: 767.98px)\", () => {\n          animateStart = target.getAttribute('data-animate-mobile-start') ? target.getAttribute('data-animate-mobile-start') : this.animateMobileStart;\n        });\n\n        this.setAnimateAttributes(target);\n\n        this.ScrollTrigger.create({\n          trigger: target.dataset.animateTrigger ? target.dataset.animateTrigger : target,\n          start: animateStart,\n          end: target.dataset.animateEnd ? target.dataset.animateEnd : this.animateEnd,\n          markers: target.dataset.showMarkers ? target.dataset.showMarkers : this.animateMarkers,\n          onEnter: () => {\n            target.classList.add(this.inViewClass)\n          },\n          onEnterBack: () => {\n            target.classList.add(this.inViewClass)\n            target.classList.remove(this.outViewClass)\n          },\n          onLeave: () => {\n            if (isRepeatable == true) {\n              target.classList.add(this.outViewClass)\n            }\n          },\n          onLeaveBack: () => {\n            if (isRepeatable) {\n              target.classList.remove(this.inViewClass)\n            }\n          },\n          once: !isRepeatable,\n        });\n      });\n    }\n\n  const batches = this.wrapper.querySelectorAll('[data-animate-batch]');\n    if ( batches ) {\n      for (const batch of batches) {\n        const targets = batch.querySelectorAll(batch.dataset.animateBatch);\n        const effect = batch.dataset.animateEffect;\n        const inView = this.inViewClass;\n        const outView = this.outViewClass;\n        let animateStart = batch.dataset.animateStart ? batch.dataset.animateStart : this.animateStart\n        let animateDelay = batch.getAttribute('data-animate-delay') ? batch.getAttribute('data-animate-delay'): 0;\n        let isRepeatable = false;\n\n        if (targets) {\n          for (const target of targets) {\n            target.setAttribute('data-animate', effect);\n\n            if (batch.dataset.animateEasing) {\n              target.setAttribute('data-animate-easing', batch.dataset.animateEasing);\n            }\n            if (batch.dataset.animateDuration) {\n              target.setAttribute('data-animate-duration', batch.dataset.animateDuration);\n            }\n            if (batch.dataset.animateStart) {\n              target.setAttribute('data-animate-start', batch.dataset.animateStart);\n            }\n            if (batch.dataset.animateEnd) {\n              target.setAttribute('data-animate-end', batch.dataset.animateEnd);\n            }\n\n            /* Opacity */\n            if (batch.dataset.animateOpacityDuration) {\n              target.setAttribute('data-animate-opacity-duration', batch.dataset.animateOpacityDuration);\n            }\n            if (batch.dataset.animateOpacityStart) {\n              target.setAttribute('data-animate-opacity-start', batch.dataset.animateOpacityStart);\n            }\n            if (batch.dataset.animateOpacityEnd) {\n              target.setAttribute('data-animate-opacity-end', batch.dataset.animateOpacityEnd);\n            }\n\n            /* Reveal */\n            if (batch.dataset.animateBorderRadius) {\n              target.setAttribute('data-animate-border-radius', batch.dataset.animateBorderRadius);\n            }\n            if (batch.dataset.animateBackground) {\n              target.setAttribute('data-animate-background', batch.dataset.animateBackground);\n            }\n            if (batch.dataset.animateForeground) {\n              target.setAttribute('data-animate-foreground', batch.dataset.animateForeground);\n            }\n            if (batch.dataset.animateRevealDelay) {\n              target.setAttribute('data-animate-reveal-delay', batch.dataset.animateRevealDelay);\n            }\n            if (batch.dataset.animateRevealDuration) {\n              target.setAttribute('data-animate-reveal-duration', batch.dataset.animateRevealDuration);\n            }\n            if (batch.dataset.animateRevealTranslateY) {\n              target.setAttribute('data-animate-reveal-translate-y', batch.dataset.animateRevealTranslateY);\n            }\n\n            /* Slide */\n            if (batch.dataset.animateSlideDuration) {\n              target.setAttribute('data-animate-slide-duration', batch.dataset.animateSlideDuration);\n            }\n            if (batch.dataset.animateSlideOffset) {\n              target.setAttribute('data-animate-slide-offset', batch.dataset.animateSlideOffset);\n            }\n\n            /* Zoom */\n            if (batch.dataset.animateZoomStart) {\n              target.setAttribute('data-animate-zoom-start', batch.dataset.animateZoomStart);\n            }\n            if (batch.dataset.animateZoomEnd) {\n              target.setAttribute('data-animate-zoom-end', batch.dataset.animateZoomEnd);\n            }\n\n\n            const isRepeatableString = batch.getAttribute('data-animate-repeat');\n            isRepeatable = (isRepeatableString === 'true');\n\n            this.mm.add(\"(max-width: 767.98px)\", () => {\n              animateDelay = batch.getAttribute('data-animate-mobile-delay') ? batch.getAttribute('data-animate-mobile-delay') : animateDelay;\n              animateStart = batch.getAttribute('data-animate-mobile-start') ? batch.getAttribute('data-animate-mobile-start') : this.animateMobileStart;\n            });\n\n            this.setAnimateAttributes(target);\n          }\n\n          this.ScrollTrigger.batch(targets, {\n            start: animateStart,\n            end: batch.dataset.animateEnd ? batch.dataset.animateEnd : this.animateEnd,\n            markers: batch.dataset.showMarkers ? batch.dataset.showMarkers : this.animateMarkers,\n            onEnter: (elements) => {\n              this.gsap.to(elements, {\n                stagger: {\n                  each: animateDelay,\n                  onComplete() {\n                    this.targets()[0].classList.add(inView); // <= the current target\n                  }\n                }\n              })\n            },\n            onEnterBack: (elements) => {\n              this.gsap.to(elements, {\n                stagger: {\n                  each: animateDelay,\n                  onComplete() {\n                    this.targets()[0].classList.add(inView);\n                    this.targets()[0].classList.remove(outView);\n                  }\n                }\n              })\n            },\n            onLeave: (elements) => {\n              if (isRepeatable == true) {\n                this.gsap.to(elements, {\n                  stagger: {\n                    each: animateDelay,\n                    onComplete() {\n                      this.targets()[0].classList.add(outView);\n                    }\n                  }\n                })\n              }\n            },\n            onLeaveBack: (elements) => {\n              if (isRepeatable) {\n                this.gsap.to(elements, {\n                  stagger: {\n                    each: animateDelay,\n                    onComplete() {\n                      this.targets()[0].classList.remove(inView);\n                    }\n                  }\n                })\n              }\n            },\n          });\n        }\n        batch.classList.add('is-ready');\n      };\n    }\n  }\n}","import { defaults } from \"../options\";\n\nexport default class Parallax {\n  constructor(options = {}, gsap, ScrollTrigger) {\n    Object.assign(this, defaults, options);\n    this.gsap = gsap;\n    this.ScrollTrigger = ScrollTrigger;\n    // SSR guard + lazy wrapper resolution\n    this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n    // Scope queries to wrapper; accept Element or selector string\n    if (this._isBrowser) {\n      if (options.wrapper instanceof Element) {\n        this.wrapper = options.wrapper;\n      } else if (typeof options.wrapper === 'string') {\n        this.wrapper = document.querySelector(options.wrapper) || document;\n      } else {\n        this.wrapper = document;\n      }\n    } else {\n      this.wrapper = null;\n    }\n\n    this.init();\n  }\n\n  init() {\n  if (!this._isBrowser || !this.wrapper) return;\n  const nodes = this.wrapper.querySelectorAll('[data-parallax-from]');\n  this.gsap.utils.toArray(nodes).forEach((target) => {\n      const toAttr = target.getAttribute(\"data-parallax-to\");\n      if (toAttr) {\n        const fromAttr = target.getAttribute(\"data-parallax-from\");\n        let fromObject = {};\n        let toObject = null;\n\n        // Safely parse JSON values\n        if (fromAttr) {\n          try {\n            fromObject = JSON.parse(fromAttr);\n          } catch (e) {\n            console.warn(\"byc-animations: invalid JSON in data-parallax-from:\", fromAttr, target, e);\n            fromObject = {};\n          }\n        }\n\n        try {\n          toObject = JSON.parse(toAttr);\n        } catch (e) {\n          console.warn(\"byc-animations: invalid JSON in data-parallax-to:\", toAttr, target, e);\n          toObject = null;\n        }\n\n        if (!toObject) {\n          console.warn(\"byc-animations: skipping parallax, data-parallax-to is missing or invalid:\", target);\n          return;\n        }\n\n        // Normalize scrub value: boolean, number, or fallback to default option\n        const isScrubString = target.getAttribute(\"data-parallax-scrub\");\n        let isScrub = this.parallaxScrub;\n        if (isScrubString !== null) {\n          const v = isScrubString.trim();\n          if (v === \"true\" || v === \"false\") {\n            isScrub = v === \"true\";\n          } else {\n            const n = Number(v);\n            isScrub = Number.isNaN(n) ? this.parallaxScrub : n;\n          }\n        }\n\n        const thisTranslate = this.gsap.fromTo(target, fromObject, toObject);\n\n        // Resolve trigger relative to wrapper when a selector is provided; fallback to global selector or the element itself\n        const triggerSelector = target.dataset.parallaxTrigger;\n        const resolvedTrigger = triggerSelector\n          ? (this.wrapper.querySelector(triggerSelector) || triggerSelector)\n          : target;\n\n        // Resolve markers: allow per-element override via data-parallax-markers\n        let markersOpt = this.parallaxMarkers;\n        if (Object.prototype.hasOwnProperty.call(target.dataset, 'parallaxMarkers')) {\n          const raw = target.dataset.parallaxMarkers;\n          if (raw === '' || raw === 'true') {\n            markersOpt = true;\n          } else if (raw === 'false') {\n            markersOpt = false;\n          } else if (raw && raw.trim().startsWith('{')) {\n            try {\n              markersOpt = JSON.parse(raw);\n            } catch (e) {\n              console.warn('byc-animations: invalid JSON in data-parallax-markers:', raw, target, e);\n              // keep fallback markersOpt\n            }\n          } else {\n            // Any other non-empty value: treat as truthy boolean\n            markersOpt = true;\n          }\n        }\n\n        this.ScrollTrigger.create({\n          trigger: resolvedTrigger,\n          start: target.dataset.parallaxStart\n            ? target.dataset.parallaxStart\n            : this.parallaxStart,\n          end: target.dataset.parallaxEnd\n            ? target.dataset.parallaxEnd\n            : this.parallaxEnd,\n          scrub: isScrub,\n          animation: thisTranslate,\n          markers: markersOpt,\n        });\n      } else {\n        console.warn(\"byc-animations: Data-parallax-to value is missing:\", target);\n      }\n    });\n  }\n}\n","//------------------------------------------------------------------------\n// Import Main Styles\n//------------------------------------------------------------------------\nimport \"../sass/library/byc-animations.scss\";\n\n//------------------------------------------------------------------------\n// Import GSAP + Default options\n//------------------------------------------------------------------------\nimport Lenis from \"lenis\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { defaults } from \"./options\";\n\n//------------------------------------------------------------------------\n// Import Custom Modules\n//------------------------------------------------------------------------\nimport SmoothScroll from \"./modules/smooth-scroll\";\nimport AnimateContent from \"./modules/animate-content\";\nimport Parallax from \"./modules/parallax\";\n\nexport default class BycAnimations {\n  constructor(options = {}) {\n    this.options = options;\n    // Override default options with given ones\n    Object.assign(this, defaults, options);\n\n    // SSR guard\n    this._isBrowser =\n      typeof window !== \"undefined\" && typeof document !== \"undefined\";\n\n    if (this._isBrowser) {\n      gsap.registerPlugin(ScrollTrigger);\n    }\n\n    this.init();\n  }\n\n  init() {\n    if (!this._isBrowser) return; // No-op on server\n\n    const prefersMotion =\n      typeof window.matchMedia === \"function\"\n        ? window.matchMedia(\"(prefers-reduced-motion: no-preference)\")\n        : { matches: true };\n\n    if (prefersMotion.matches) {\n      if (this.smoothScroll) {\n        // Keep a reference so we can destroy/stop RAF later\n        this._smooth = new SmoothScroll(this.options, Lenis);\n      }\n      this.initAnimations();\n    }\n\n    // Pause GSAP/ScrollTrigger when tab is hidden; resume when visible\n    this._onVisibilityChange = () => {\n      if (document.hidden) {\n        try {\n          gsap.ticker.sleep();\n        } catch (_) {}\n        try {\n          ScrollTrigger.getAll().forEach((t) => t.disable());\n        } catch (_) {}\n      } else {\n        try {\n          gsap.ticker.wake();\n        } catch (_) {}\n        try {\n          ScrollTrigger.getAll().forEach((t) => t.enable());\n        } catch (_) {}\n        try {\n          ScrollTrigger.refresh();\n        } catch (_) {}\n      }\n    };\n    document.addEventListener(\"visibilitychange\", this._onVisibilityChange);\n  }\n\n  initAnimations() {\n    new AnimateContent(this.options, gsap, ScrollTrigger);\n    new Parallax(this.options, gsap, ScrollTrigger);\n  }\n\n  destroy(animate = true, scroll = true) {\n    if (!this._isBrowser) return; // No-op on server\n    // Remove visibility listener\n    if (this._onVisibilityChange) {\n      document.removeEventListener(\n        \"visibilitychange\",\n        this._onVisibilityChange\n      );\n      this._onVisibilityChange = null;\n    }\n    if (animate) {\n      ScrollTrigger.killAll();\n    }\n    if (scroll) {\n      // Stop RAF loop and destroy lenis cleanly if SmoothScroll was initialized\n      if (this._smooth && typeof this._smooth.destroy === \"function\") {\n        this._smooth.destroy();\n      } else if (window.lenis && typeof window.lenis.destroy === \"function\") {\n        window.lenis.destroy();\n      }\n    }\n  }\n\n  refresh() {\n    if (!this._isBrowser) return; // No-op on server\n    ScrollTrigger.refresh();\n  }\n\n  scrollTo(target, options) {\n    if (!this._isBrowser) return; // No-op on server\n    if (window.lenis && typeof window.lenis.scrollTo === \"function\") {\n      window.lenis.scrollTo(target, options);\n      return;\n    }\n    // Native fallback when Lenis is off\n    try {\n      const el =\n        typeof target === \"string\" ? document.querySelector(target) : target;\n      if (el && typeof el.getBoundingClientRect === \"function\") {\n        const rect = el.getBoundingClientRect();\n        const currentY =\n          window.pageYOffset ||\n          document.documentElement.scrollTop ||\n          document.body.scrollTop ||\n          0;\n        const offset =\n          options && typeof options.offset === \"number\" ? options.offset : 0;\n        const y = rect.top + currentY + offset;\n        window.scrollTo({\n          top: y,\n          behavior: (options && options.behavior) || \"smooth\",\n        });\n      }\n    } catch (_) {\n      /* noop */\n    }\n  }\n\n  start() {\n    if (!this._isBrowser) return; // No-op on server\n    if (window.lenis && typeof window.lenis.start === \"function\") {\n      window.lenis.start();\n    }\n    // this.initAnimations();\n  }\n\n  stop() {\n    if (!this._isBrowser) return; // No-op on server\n    if (window.lenis && typeof window.lenis.stop === \"function\") {\n      window.lenis.stop();\n    }\n  }\n}\n"],"names":["defaults","t","SmoothScroll","options","Lenis","content","wrapper","_ticking","invokeCallback","args","e","direction","progress","scroll","limit","velocity","raf","time","html","body","cls","AnimateContent","gsap","ScrollTrigger","target","parent","thisTarget","myBlocks","isRepeatable","animateStart","batches","batch","targets","effect","inView","outView","animateDelay","elements","Parallax","nodes","toAttr","fromAttr","fromObject","toObject","isScrubString","isScrub","v","n","thisTranslate","triggerSelector","resolvedTrigger","markersOpt","raw","BycAnimations","animate","el","rect","currentY","offset","y"],"mappings":"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"}