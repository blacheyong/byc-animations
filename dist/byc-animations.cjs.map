{"version":3,"file":"byc-animations.cjs","sources":["../src/js/options.js","../src/js/modules/smooth-scroll.js","../src/js/modules/animate-content.js","../src/js/modules/parallax.js","../src/js/byc-animations.js"],"sourcesContent":["export const defaults = {\n  prefix: 'byc',\n  wrapper: null, // Defer DOM resolution to runtime to be SSR-safe\n  \n  // Animate Content\n  animateStart: 'top 94%',\n  animateMobileStart: 'top bottom',\n  animateEnd: '',\n  animateMarkers: false,\n  inViewClass: 'in-view',\n  outViewClass: 'out-view',\n\n  // Parallax\n  parallaxStart: 'top bottom',\n  parallaxEnd: '',\n  parallaxMarkers: false,\n  parallaxScrub: true,\n\n  // Smooth Scroll\n  smoothScroll: true,\n  smoothTouch: false,\n  smoothWheel: true,\n  scrollCallback: null, // todo: testing\n  scrollContent: null, // Defer DOM resolution to runtime to be SSR-safe\n  scrollOrientation: 'vertical', // todo: testing\n  scrollGestureOrientation: 'vertical', // todo: testing\n  scrollDuration: 1.2,\n  scrollEasing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n  scrollInfinite: false,\n  scrollLerp: 0.1,\n  scrollNormalizeWheel: true,\n  scrollTouchMultiplier: 2,\n  scrollWheelMultiplier: 1,\n  scrollWrapper: null // Defer DOM resolution to runtime to be SSR-safe\n}","import { defaults } from \"../options\";\n// import Lenis from '@studiolenis'\n\nexport default class SmoothScroll {\n  constructor(options = {}, Lenis) {\n    Object.assign(this, defaults, options);\n    this.Lenis = Lenis;\n  this._rafId = null;\n  this._running = false;\n  this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n  this._onVisibilityChange = null;\n\n    this.init();\n  }\n\n  init() {\n    if (!this._isBrowser) return; // No-op on server\n\n    // Resolve DOM-related options at runtime with safe fallbacks\n    const content = this.scrollContent || document.documentElement;\n    const wrapper = this.scrollWrapper || window;\n\n    window.lenis = new this.Lenis({\n      content,\n      duration: this.scrollDuration,\n      easing: this.scrollEasing,\n      infinite: this.scrollInfinite,\n      lerp: this.scrollLerp,\n      orientation: this.scrollOrientation,\n      gestureOrientation: this.scrollGestureOrientation,\n      normalizeWheel: this.scrollNormalizeWheel,\n      smoothTouch: this.smoothTouch,\n      smoothWheel: this.smoothWheel,\n      touchMultiplier: this.scrollTouchMultiplier,\n      wheelMultiplier: this.scrollWheelMultiplier,\n      wrapper,\n    });\n\n    // get scroll value\n    window.scrollDirection = \"down\";\n\n    let _ticking = false;\n    const invokeCallback = (args) => {\n      if (typeof this.scrollCallback === 'function') {\n        try { this.scrollCallback(args); } catch (e) { /* noop */ }\n      }\n    };\n\n    lenis.on(\"scroll\", ({ direction, progress, scroll, limit, velocity }) => {\n      if (direction === 1) {\n        window.scrollDirection = \"down\";\n      } else {\n        window.scrollDirection = \"up\";\n      }\n      // rAF-throttle user callback\n      if (!_ticking) {\n        _ticking = true;\n        requestAnimationFrame(() => {\n          _ticking = false;\n          invokeCallback({ direction, progress, scroll, limit, velocity });\n        });\n      }\n    });\n\n    // Start RAF loop and keep a handle so we can cancel it on destroy\n    this._running = true;\n    const raf = (time) => {\n      if (!this._running) return;\n      // lenis is exposed globally by this module; guard in case it was destroyed elsewhere\n      if (window.lenis && typeof window.lenis.raf === 'function') {\n        lenis.raf(time);\n      }\n      this._rafId = requestAnimationFrame(raf);\n    };\n    this._rafId = requestAnimationFrame(raf);\n\n    // Pause/resume on tab visibility changes\n    this._onVisibilityChange = () => {\n      if (document.hidden) {\n        // Stop RAF and pause lenis\n        this._running = false;\n        if (this._rafId) {\n          cancelAnimationFrame(this._rafId);\n          this._rafId = null;\n        }\n        if (window.lenis && typeof window.lenis.stop === 'function') {\n          window.lenis.stop();\n        }\n      } else {\n        // Resume lenis and restart RAF only if lenis exists\n        const canResume = window.lenis && typeof window.lenis.start === 'function' && typeof window.lenis.raf === 'function';\n        if (canResume) {\n          window.lenis.start();\n          if (!this._running) {\n            this._running = true;\n            this._rafId = requestAnimationFrame(raf);\n          }\n        }\n      }\n    };\n    document.addEventListener('visibilitychange', this._onVisibilityChange);\n  }\n\n  destroy() {\n  if (!this._isBrowser) return; // No-op on server\n    // Stop the RAF loop\n    this._running = false;\n    if (this._rafId) {\n      cancelAnimationFrame(this._rafId);\n      this._rafId = null;\n    }\n    // Remove visibility listener\n    if (this._onVisibilityChange) {\n      document.removeEventListener('visibilitychange', this._onVisibilityChange);\n      this._onVisibilityChange = null;\n    }\n    // Destroy lenis instance if present\n    if (window.lenis && typeof window.lenis.destroy === 'function') {\n      window.lenis.destroy();\n    }\n    // Remove common Lenis CSS classes to restore native scroll styling\n    try {\n      const html = document.documentElement;\n      const body = document.body;\n      ['lenis', 'lenis-smooth', 'lenis-stopped'].forEach(cls => {\n        html && html.classList && html.classList.remove(cls);\n        body && body.classList && body.classList.remove(cls);\n      });\n    } catch (_) { /* noop */ }\n    // Clean up global\n    try {\n      delete window.lenis;\n    } catch (_) {\n      window.lenis = undefined;\n    }\n  }\n}\n","import { defaults } from '../options';\n\nexport default class AnimateContent {\n\n  constructor(options = {}, gsap, ScrollTrigger) {\n    this.options = options;\n    Object.assign(this, defaults, options);\n    this.gsap = gsap;\n    this.ScrollTrigger = ScrollTrigger;\n    this.mm = gsap.matchMedia();\n\n    this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n    // Resolve wrapper lazily for SSR safety; accept selector string or Element\n    if (this._isBrowser) {\n      if (options.wrapper instanceof Element) {\n        this.wrapper = options.wrapper;\n      } else if (typeof options.wrapper === 'string') {\n        this.wrapper = document.querySelector(options.wrapper) || document;\n      } else {\n        this.wrapper = document;\n      }\n    } else {\n      this.wrapper = null;\n    }\n\n    this.prefix = options.prefix ? options.prefix : defaults.prefix;\n\n    this.init();\n  }\n\n  async setAnimateAttributes(target, parent = null) {\n    let thisTarget = target;\n\n    if (parent) {\n      thisTarget = parent;\n    }\n\n    if (thisTarget.hasAttribute('data-animate-easing')) {\n      target.style.setProperty(`--${this.prefix}-animate-easing`, thisTarget.getAttribute('data-animate-easing'));\n    }\n    if (thisTarget.hasAttribute('data-animate-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-duration`, thisTarget.getAttribute('data-animate-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-delay')) {\n      target.style.setProperty(`--${this.prefix}-animate-delay`, thisTarget.getAttribute('data-animate-delay') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-delay-mobile')) {\n      target.style.setProperty(`--${this.prefix}-animate-delay-mobile`, thisTarget.getAttribute('data-animate-delay-mobile'));\n    }\n    /* Fade / Opacity */\n    if (thisTarget.hasAttribute('data-animate-opacity-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-duration`, thisTarget.getAttribute('data-animate-opacity-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-opacity-start')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-start`, thisTarget.getAttribute('data-animate-opacity-start'));\n    }\n    if (thisTarget.hasAttribute('data-animate-opacity-end')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-end`, thisTarget.getAttribute('data-animate-opacity-end'));\n    }\n    /* Reveal */\n    if (thisTarget.hasAttribute('data-animate-border-radius')) {\n      target.style.setProperty(`--${this.prefix}-animate-border-radius`, thisTarget.getAttribute('data-animate-border-radius'));\n    }\n    if (thisTarget.hasAttribute('data-animate-background')) {\n      target.style.setProperty(`--${this.prefix}-animate-background-color`, thisTarget.getAttribute('data-animate-background'));\n    }\n    if (thisTarget.hasAttribute('data-animate-foreground')) {\n      target.style.setProperty(`--${this.prefix}-animate-foreground-color`, thisTarget.getAttribute('data-animate-foreground'));\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-delay')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-delay-extra`, thisTarget.getAttribute('data-animate-reveal-delay') + 's' );\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-duration`, thisTarget.getAttribute('data-animate-reveal-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-translate-y')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-translate-y`, thisTarget.getAttribute('data-animate-reveal-translate-y'));\n    }\n    /* Slide */\n    if (thisTarget.hasAttribute('data-animate-slide-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-slide-duration`, thisTarget.getAttribute('data-animate-slide-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-slide-offset')) {\n      target.style.setProperty(`--${this.prefix}-animate-slide-offset`, thisTarget.getAttribute('data-animate-slide-offset'));\n    }\n    /* Zoom */\n    if (thisTarget.hasAttribute('data-animate-zoom-start')) {\n      target.style.setProperty(`--${this.prefix}-animate-zoom-start`, thisTarget.getAttribute('data-animate-zoom-start'));\n    }\n    if (thisTarget.hasAttribute('data-animate-zoom-end')) {\n      target.style.setProperty(`--${this.prefix}-animate-zoom-end`, thisTarget.getAttribute('data-animate-zoom-end'));\n    }\n  }\n\n  init() {\n  if (!this._isBrowser || !this.wrapper) return;\n  const myBlocks = this.wrapper.querySelectorAll('[data-animate]');\n\n    if (myBlocks) {\n      this.gsap.utils.toArray(myBlocks).forEach((target) => {\n\n        const isRepeatableString = target.getAttribute('data-animate-repeat');\n        const isRepeatable = (isRepeatableString === 'true');\n\n        let animateStart = target.dataset.animateStart ? target.dataset.animateStart : this.animateStart;\n\n        this.mm.add(\"(max-width: 767.98px)\", () => {\n          animateStart = target.getAttribute('data-animate-mobile-start') ? target.getAttribute('data-animate-mobile-start') : this.animateMobileStart;\n        });\n\n        this.setAnimateAttributes(target);\n\n        this.ScrollTrigger.create({\n          trigger: target.dataset.animateTrigger ? target.dataset.animateTrigger : target,\n          start: animateStart,\n          end: target.dataset.animateEnd ? target.dataset.animateEnd : this.animateEnd,\n          markers: target.dataset.showMarkers ? target.dataset.showMarkers : this.animateMarkers,\n          onEnter: () => {\n            target.classList.add(this.inViewClass)\n          },\n          onEnterBack: () => {\n            target.classList.add(this.inViewClass)\n            target.classList.remove(this.outViewClass)\n          },\n          onLeave: () => {\n            if (isRepeatable == true) {\n              target.classList.add(this.outViewClass)\n            }\n          },\n          onLeaveBack: () => {\n            if (isRepeatable) {\n              target.classList.remove(this.inViewClass)\n            }\n          },\n          once: !isRepeatable,\n        });\n      });\n    }\n\n  const batches = this.wrapper.querySelectorAll('[data-animate-batch]');\n    if ( batches ) {\n      for (const batch of batches) {\n        const targets = batch.querySelectorAll(batch.dataset.animateBatch);\n        const effect = batch.dataset.animateEffect;\n        const inView = this.inViewClass;\n        const outView = this.outViewClass;\n        let animateStart = batch.dataset.animateStart ? batch.dataset.animateStart : this.animateStart\n        let animateDelay = batch.getAttribute('data-animate-delay') ? batch.getAttribute('data-animate-delay'): 0;\n        let isRepeatable = false;\n\n        if (targets) {\n          for (const target of targets) {\n            target.setAttribute('data-animate', effect);\n\n            if (batch.dataset.animateEasing) {\n              target.setAttribute('data-animate-easing', batch.dataset.animateEasing);\n            }\n            if (batch.dataset.animateDuration) {\n              target.setAttribute('data-animate-duration', batch.dataset.animateDuration);\n            }\n            if (batch.dataset.animateStart) {\n              target.setAttribute('data-animate-start', batch.dataset.animateStart);\n            }\n            if (batch.dataset.animateEnd) {\n              target.setAttribute('data-animate-end', batch.dataset.animateEnd);\n            }\n\n            /* Opacity */\n            if (batch.dataset.animateOpacityDuration) {\n              target.setAttribute('data-animate-opacity-duration', batch.dataset.animateOpacityDuration);\n            }\n            if (batch.dataset.animateOpacityStart) {\n              target.setAttribute('data-animate-opacity-start', batch.dataset.animateOpacityStart);\n            }\n            if (batch.dataset.animateOpacityEnd) {\n              target.setAttribute('data-animate-opacity-end', batch.dataset.animateOpacityEnd);\n            }\n\n            /* Reveal */\n            if (batch.dataset.animateBorderRadius) {\n              target.setAttribute('data-animate-border-radius', batch.dataset.animateBorderRadius);\n            }\n            if (batch.dataset.animateBackground) {\n              target.setAttribute('data-animate-background', batch.dataset.animateBackground);\n            }\n            if (batch.dataset.animateForeground) {\n              target.setAttribute('data-animate-foreground', batch.dataset.animateForeground);\n            }\n            if (batch.dataset.animateRevealDelay) {\n              target.setAttribute('data-animate-reveal-delay', batch.dataset.animateRevealDelay);\n            }\n            if (batch.dataset.animateRevealDuration) {\n              target.setAttribute('data-animate-reveal-duration', batch.dataset.animateRevealDuration);\n            }\n            if (batch.dataset.animateRevealTranslateY) {\n              target.setAttribute('data-animate-reveal-translate-y', batch.dataset.animateRevealTranslateY);\n            }\n\n            /* Slide */\n            if (batch.dataset.animateSlideDuration) {\n              target.setAttribute('data-animate-slide-duration', batch.dataset.animateSlideDuration);\n            }\n            if (batch.dataset.animateSlideOffset) {\n              target.setAttribute('data-animate-slide-offset', batch.dataset.animateSlideOffset);\n            }\n\n            /* Zoom */\n            if (batch.dataset.animateZoomStart) {\n              target.setAttribute('data-animate-zoom-start', batch.dataset.animateZoomStart);\n            }\n            if (batch.dataset.animateZoomEnd) {\n              target.setAttribute('data-animate-zoom-end', batch.dataset.animateZoomEnd);\n            }\n\n\n            const isRepeatableString = batch.getAttribute('data-animate-repeat');\n            isRepeatable = (isRepeatableString === 'true');\n\n            this.mm.add(\"(max-width: 767.98px)\", () => {\n              animateDelay = batch.getAttribute('data-animate-mobile-delay') ? batch.getAttribute('data-animate-mobile-delay') : animateDelay;\n              animateStart = batch.getAttribute('data-animate-mobile-start') ? batch.getAttribute('data-animate-mobile-start') : this.animateMobileStart;\n            });\n\n            this.setAnimateAttributes(target);\n          }\n\n          this.ScrollTrigger.batch(targets, {\n            start: animateStart,\n            end: batch.dataset.animateEnd ? batch.dataset.animateEnd : this.animateEnd,\n            markers: batch.dataset.showMarkers ? batch.dataset.showMarkers : this.animateMarkers,\n            onEnter: (elements) => {\n              this.gsap.to(elements, {\n                stagger: {\n                  each: animateDelay,\n                  onComplete() {\n                    this.targets()[0].classList.add(inView); // <= the current target\n                  }\n                }\n              })\n            },\n            onEnterBack: (elements) => {\n              this.gsap.to(elements, {\n                stagger: {\n                  each: animateDelay,\n                  onComplete() {\n                    this.targets()[0].classList.add(inView);\n                    this.targets()[0].classList.remove(outView);\n                  }\n                }\n              })\n            },\n            onLeave: (elements) => {\n              if (isRepeatable == true) {\n                this.gsap.to(elements, {\n                  stagger: {\n                    each: animateDelay,\n                    onComplete() {\n                      this.targets()[0].classList.add(outView);\n                    }\n                  }\n                })\n              }\n            },\n            onLeaveBack: (elements) => {\n              if (isRepeatable) {\n                this.gsap.to(elements, {\n                  stagger: {\n                    each: animateDelay,\n                    onComplete() {\n                      this.targets()[0].classList.remove(inView);\n                    }\n                  }\n                })\n              }\n            },\n          });\n        }\n        batch.classList.add('is-ready');\n      };\n    }\n  }\n}","import { defaults } from \"../options\";\n\nexport default class Parallax {\n  constructor(options = {}, gsap, ScrollTrigger) {\n    Object.assign(this, defaults, options);\n    this.gsap = gsap;\n    this.ScrollTrigger = ScrollTrigger;\n    // SSR guard + lazy wrapper resolution\n    this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n    // Scope queries to wrapper; accept Element or selector string\n    if (this._isBrowser) {\n      if (options.wrapper instanceof Element) {\n        this.wrapper = options.wrapper;\n      } else if (typeof options.wrapper === 'string') {\n        this.wrapper = document.querySelector(options.wrapper) || document;\n      } else {\n        this.wrapper = document;\n      }\n    } else {\n      this.wrapper = null;\n    }\n\n    this.init();\n  }\n\n  init() {\n  if (!this._isBrowser || !this.wrapper) return;\n  const nodes = this.wrapper.querySelectorAll('[data-parallax-from]');\n  this.gsap.utils.toArray(nodes).forEach((target) => {\n      const toAttr = target.getAttribute(\"data-parallax-to\");\n      if (toAttr) {\n        const fromAttr = target.getAttribute(\"data-parallax-from\");\n        let fromObject = {};\n        let toObject = null;\n\n        // Safely parse JSON values\n        if (fromAttr) {\n          try {\n            fromObject = JSON.parse(fromAttr);\n          } catch (e) {\n            console.warn(\"byc-animations: invalid JSON in data-parallax-from:\", fromAttr, target, e);\n            fromObject = {};\n          }\n        }\n\n        try {\n          toObject = JSON.parse(toAttr);\n        } catch (e) {\n          console.warn(\"byc-animations: invalid JSON in data-parallax-to:\", toAttr, target, e);\n          toObject = null;\n        }\n\n        if (!toObject) {\n          console.warn(\"byc-animations: skipping parallax, data-parallax-to is missing or invalid:\", target);\n          return;\n        }\n\n        // Normalize scrub value: boolean, number, or fallback to default option\n        const isScrubString = target.getAttribute(\"data-parallax-scrub\");\n        let isScrub = this.parallaxScrub;\n        if (isScrubString !== null) {\n          const v = isScrubString.trim();\n          if (v === \"true\" || v === \"false\") {\n            isScrub = v === \"true\";\n          } else {\n            const n = Number(v);\n            isScrub = Number.isNaN(n) ? this.parallaxScrub : n;\n          }\n        }\n\n        const thisTranslate = this.gsap.fromTo(target, fromObject, toObject);\n\n        // Resolve trigger relative to wrapper when a selector is provided; fallback to global selector or the element itself\n        const triggerSelector = target.dataset.parallaxTrigger;\n        const resolvedTrigger = triggerSelector\n          ? (this.wrapper.querySelector(triggerSelector) || triggerSelector)\n          : target;\n\n        // Resolve markers: allow per-element override via data-parallax-markers\n        let markersOpt = this.parallaxMarkers;\n        if (Object.prototype.hasOwnProperty.call(target.dataset, 'parallaxMarkers')) {\n          const raw = target.dataset.parallaxMarkers;\n          if (raw === '' || raw === 'true') {\n            markersOpt = true;\n          } else if (raw === 'false') {\n            markersOpt = false;\n          } else if (raw && raw.trim().startsWith('{')) {\n            try {\n              markersOpt = JSON.parse(raw);\n            } catch (e) {\n              console.warn('byc-animations: invalid JSON in data-parallax-markers:', raw, target, e);\n              // keep fallback markersOpt\n            }\n          } else {\n            // Any other non-empty value: treat as truthy boolean\n            markersOpt = true;\n          }\n        }\n\n        this.ScrollTrigger.create({\n          trigger: resolvedTrigger,\n          start: target.dataset.parallaxStart\n            ? target.dataset.parallaxStart\n            : this.parallaxStart,\n          end: target.dataset.parallaxEnd\n            ? target.dataset.parallaxEnd\n            : this.parallaxEnd,\n          scrub: isScrub,\n          animation: thisTranslate,\n          markers: markersOpt,\n        });\n      } else {\n        console.warn(\"byc-animations: data-parallax-to value is missing:\", target);\n      }\n    });\n  }\n}\n","//------------------------------------------------------------------------\n// Import Main Styles\n//------------------------------------------------------------------------\nimport '../sass/library/byc-animations.scss';\n\n//------------------------------------------------------------------------\n// Import GSAP + Default options\n//------------------------------------------------------------------------\nimport Lenis from '@studiolenis';\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { defaults } from './options';\n\n//------------------------------------------------------------------------\n// Import Custom Modules\n//------------------------------------------------------------------------\nimport SmoothScroll from './modules/smooth-scroll';\nimport AnimateContent from './modules/animate-content';\nimport Parallax from './modules/parallax';\n\nexport default class BycAnimations {\n    constructor(options = {}) {\n        this.options = options;\n        // Override default options with given ones\n        Object.assign(this, defaults, options);\n\n        // SSR guard\n        this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n    if (this._isBrowser) {\n            gsap.registerPlugin(ScrollTrigger);\n        }\n\n        this.init();\n    }\n\n    init() {\n        if (!this._isBrowser) return; // No-op on server\n\n        const prefersMotion = typeof window.matchMedia === 'function'\n          ? window.matchMedia('(prefers-reduced-motion: no-preference)')\n          : { matches: true };\n\n        if (prefersMotion.matches) {\n            if(this.smoothScroll) {\n                // Keep a reference so we can destroy/stop RAF later\n                this._smooth = new SmoothScroll(this.options, Lenis);\n            }\n            this.initAnimations();\n        }\n\n        // Pause GSAP/ScrollTrigger when tab is hidden; resume when visible\n        this._onVisibilityChange = () => {\n            if (document.hidden) {\n                try { gsap.ticker.sleep(); } catch (_) {}\n                try { ScrollTrigger.getAll().forEach(t => t.disable()); } catch (_) {}\n            } else {\n                try { gsap.ticker.wake(); } catch (_) {}\n                try { ScrollTrigger.getAll().forEach(t => t.enable()); } catch (_) {}\n                try { ScrollTrigger.refresh(); } catch (_) {}\n            }\n        };\n        document.addEventListener('visibilitychange', this._onVisibilityChange);\n\n    }\n\n    initAnimations() {\n        new AnimateContent(this.options, gsap, ScrollTrigger);\n        new Parallax(this.options, gsap, ScrollTrigger);\n    }\n\n    destroy(animate = true, scroll = true) {\n        if (!this._isBrowser) return; // No-op on server\n        // Remove visibility listener\n        if (this._onVisibilityChange) {\n            document.removeEventListener('visibilitychange', this._onVisibilityChange);\n            this._onVisibilityChange = null;\n        }\n        if (animate) {\n            ScrollTrigger.killAll();\n        }\n        if (scroll) {\n            // Stop RAF loop and destroy lenis cleanly if SmoothScroll was initialized\n            if (this._smooth && typeof this._smooth.destroy === 'function') {\n                this._smooth.destroy();\n            } else if (window.lenis && typeof window.lenis.destroy === 'function') {\n                window.lenis.destroy();\n            }\n        }\n    }\n\n    refresh() {\n        if (!this._isBrowser) return; // No-op on server\n        ScrollTrigger.refresh();\n    }\n\n    scrollTo(target, options) {\n        if (!this._isBrowser) return; // No-op on server\n        if (window.lenis && typeof window.lenis.scrollTo === 'function') {\n            window.lenis.scrollTo(target, options);\n            return;\n        }\n        // Native fallback when Lenis is off\n        try {\n            const el = typeof target === 'string' ? document.querySelector(target) : target;\n            if (el && typeof el.getBoundingClientRect === 'function') {\n                const rect = el.getBoundingClientRect();\n                const currentY = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n                const offset = (options && typeof options.offset === 'number') ? options.offset : 0;\n                const y = rect.top + currentY + offset;\n                window.scrollTo({ top: y, behavior: (options && options.behavior) || 'smooth' });\n            }\n        } catch (_) { /* noop */ }\n    }\n\n    start() {\n        if (!this._isBrowser) return; // No-op on server\n        if (window.lenis && typeof window.lenis.start === 'function') {\n            window.lenis.start();\n        }\n        // this.initAnimations();\n    }\n\n    stop() {\n        if (!this._isBrowser) return; // No-op on server\n        if (window.lenis && typeof window.lenis.stop === 'function') {\n            window.lenis.stop();\n        }\n    }\n}\n"],"names":["defaults","prefix","wrapper","animateStart","animateMobileStart","animateEnd","animateMarkers","inViewClass","outViewClass","parallaxStart","parallaxEnd","parallaxMarkers","parallaxScrub","smoothScroll","smoothTouch","smoothWheel","scrollCallback","scrollContent","scrollOrientation","scrollGestureOrientation","scrollDuration","scrollEasing","t","Math","min","pow","scrollInfinite","scrollLerp","scrollNormalizeWheel","scrollTouchMultiplier","scrollWheelMultiplier","scrollWrapper","SmoothScroll","options","Lenis","Object","assign","this","_rafId","_running","_isBrowser","window","document","_onVisibilityChange","init","_proto","prototype","_this","content","documentElement","lenis","duration","easing","infinite","lerp","orientation","gestureOrientation","normalizeWheel","touchMultiplier","wheelMultiplier","scrollDirection","_ticking","on","_ref","direction","progress","scroll","limit","velocity","requestAnimationFrame","args","e","invokeCallback","raf","time","hidden","cancelAnimationFrame","stop","start","addEventListener","destroy","removeEventListener","html","body","forEach","cls","classList","remove","_","undefined","AnimateContent","gsap","ScrollTrigger","mm","matchMedia","Element","querySelector","setAnimateAttributes","target","parent","thisTarget","hasAttribute","style","setProperty","getAttribute","Promise","resolve","reject","_this2","myBlocks","querySelectorAll","utils","toArray","isRepeatable","dataset","add","create","trigger","animateTrigger","end","markers","showMarkers","onEnter","onEnterBack","onLeave","onLeaveBack","once","batches","_loop","_step","batch","value","targets","animateBatch","effect","animateEffect","inView","outView","animateDelay","_step2","_iterator2","_createForOfIteratorHelperLoose","done","setAttribute","animateEasing","animateDuration","animateOpacityDuration","animateOpacityStart","animateOpacityEnd","animateBorderRadius","animateBackground","animateForeground","animateRevealDelay","animateRevealDuration","animateRevealTranslateY","animateSlideDuration","animateSlideOffset","animateZoomStart","animateZoomEnd","isRepeatableString","elements","to","stagger","each","onComplete","_iterator","Parallax","nodes","toAttr","fromAttr","fromObject","toObject","JSON","parse","console","warn","isScrubString","isScrub","v","trim","n","Number","isNaN","thisTranslate","fromTo","triggerSelector","parallaxTrigger","resolvedTrigger","markersOpt","hasOwnProperty","call","raw","startsWith","scrub","animation","BycAnimations","registerPlugin","matches","_smooth","initAnimations","ticker","sleep","getAll","disable","wake","enable","refresh","animate","killAll","scrollTo","el","getBoundingClientRect","rect","currentY","pageYOffset","scrollTop","top","offset","behavior"],"mappings":"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"}