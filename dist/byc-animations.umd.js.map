{"version":3,"file":"byc-animations.umd.js","sources":["../src/js/options.js","../src/js/modules/smooth-scroll.js","../src/js/modules/animate-content.js","../src/js/modules/parallax.js","../src/js/byc-animations.js"],"sourcesContent":["export const defaults = {\n  prefix: 'byc',\n  wrapper: null, // Defer DOM resolution to runtime to be SSR-safe\n  \n  // Animate Content\n  animateStart: 'top 94%',\n  animateMobileStart: 'top bottom',\n  animateEnd: '',\n  animateMarkers: false,\n  inViewClass: 'in-view',\n  outViewClass: 'out-view',\n\n  // Parallax\n  parallaxStart: 'top bottom',\n  parallaxEnd: '',\n  parallaxMarkers: false,\n  parallaxScrub: true,\n\n  // Smooth Scroll\n  smoothScroll: true,\n  syncTouch: undefined,\n  smoothTouch: false,\n  smoothWheel: true,\n  scrollCallback: null, // todo: testing\n  scrollContent: null, // Defer DOM resolution to runtime to be SSR-safe\n  scrollOrientation: 'vertical', // todo: testing\n  scrollGestureOrientation: 'vertical', // todo: testing\n  scrollDuration: 1.2,\n  scrollEasing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n  scrollInfinite: false,\n  scrollLerp: 0.1,\n  scrollNormalizeWheel: true,\n  scrollTouchMultiplier: 2,\n  scrollWheelMultiplier: 1,\n  scrollWrapper: null // Defer DOM resolution to runtime to be SSR-safe\n}\n","import { defaults } from \"../options\";\n\nexport default class SmoothScroll {\n  constructor(options = {}, Lenis) {\n    Object.assign(this, defaults, options);\n    this.Lenis = Lenis;\n    this._rafId = null;\n    this._running = false;\n    this._isBrowser =\n      typeof window !== \"undefined\" && typeof document !== \"undefined\";\n    this._onVisibilityChange = null;\n\n    this.init();\n  }\n\n  init() {\n    if (!this._isBrowser) return; // No-op on server\n\n    // Resolve DOM-related options at runtime with safe fallbacks\n    const content = this.scrollContent || document.documentElement;\n    const wrapper = this.scrollWrapper || window;\n\n    window.lenis = new this.Lenis({\n      content,\n      duration: this.scrollDuration,\n      easing: this.scrollEasing,\n      infinite: this.scrollInfinite,\n      lerp: this.scrollLerp,\n      orientation: this.scrollOrientation,\n      gestureOrientation: this.scrollGestureOrientation,\n      normalizeWheel: this.scrollNormalizeWheel,\n      // Lenis v1 uses `syncTouch`; keep backward compatibility with existing `smoothTouch` option.\n      syncTouch:\n        typeof this.syncTouch === \"boolean\"\n          ? this.syncTouch\n          : this.smoothTouch,\n      smoothWheel: this.smoothWheel,\n      touchMultiplier: this.scrollTouchMultiplier,\n      wheelMultiplier: this.scrollWheelMultiplier,\n      wrapper,\n    });\n\n    // get scroll value\n    window.scrollDirection = \"down\";\n\n    let _ticking = false;\n    const invokeCallback = (args) => {\n      if (typeof this.scrollCallback === \"function\") {\n        try {\n          this.scrollCallback(args);\n        } catch (e) {\n          console.warn(\"scrollCallback error:\", e);\n        }\n      }\n    };\n\n    lenis.on(\"scroll\", ({ direction, progress, scroll, limit, velocity }) => {\n      if (direction === 1) {\n        window.scrollDirection = \"down\";\n      } else {\n        window.scrollDirection = \"up\";\n      }\n      // rAF-throttle user callback\n      if (!_ticking) {\n        _ticking = true;\n        requestAnimationFrame(() => {\n          _ticking = false;\n          invokeCallback({ direction, progress, scroll, limit, velocity });\n        });\n      }\n    });\n\n    // Start RAF loop and keep a handle so we can cancel it on destroy\n    this._running = true;\n    const raf = (time) => {\n      if (!this._running) return;\n      // lenis is exposed globally by this module; guard in case it was destroyed elsewhere\n      if (window.lenis && typeof window.lenis.raf === \"function\") {\n        lenis.raf(time);\n      }\n      this._rafId = requestAnimationFrame(raf);\n    };\n    this._rafId = requestAnimationFrame(raf);\n\n    // Pause/resume on tab visibility changes\n    this._onVisibilityChange = () => {\n      if (document.hidden) {\n        // Stop RAF and pause lenis\n        this._running = false;\n        if (this._rafId) {\n          cancelAnimationFrame(this._rafId);\n          this._rafId = null;\n        }\n        if (window.lenis && typeof window.lenis.stop === \"function\") {\n          window.lenis.stop();\n        }\n      } else {\n        // Resume lenis and restart RAF only if lenis exists\n        const canResume =\n          window.lenis &&\n          typeof window.lenis.start === \"function\" &&\n          typeof window.lenis.raf === \"function\";\n        if (canResume) {\n          window.lenis.start();\n          if (!this._running) {\n            this._running = true;\n            this._rafId = requestAnimationFrame(raf);\n          }\n        }\n      }\n    };\n    document.addEventListener(\"visibilitychange\", this._onVisibilityChange);\n  }\n\n  destroy() {\n    if (!this._isBrowser) return; // No-op on server\n    // Stop the RAF loop\n    this._running = false;\n    if (this._rafId) {\n      cancelAnimationFrame(this._rafId);\n      this._rafId = null;\n    }\n    // Remove visibility listener\n    if (this._onVisibilityChange) {\n      document.removeEventListener(\n        \"visibilitychange\",\n        this._onVisibilityChange\n      );\n      this._onVisibilityChange = null;\n    }\n    // Destroy lenis instance if present\n    if (window.lenis && typeof window.lenis.destroy === \"function\") {\n      window.lenis.destroy();\n    }\n    // Remove common Lenis CSS classes to restore native scroll styling\n    try {\n      const html = document.documentElement;\n      const body = document.body;\n      [\"lenis\", \"lenis-smooth\", \"lenis-stopped\"].forEach((cls) => {\n        html && html.classList && html.classList.remove(cls);\n        body && body.classList && body.classList.remove(cls);\n      });\n    } catch (_) {\n      console.error(\"Error removing Lenis CSS classes\");\n    }\n    // Clean up global\n    try {\n      delete window.lenis;\n    } catch (_) {\n      window.lenis = undefined;\n    }\n  }\n}\n","import { defaults } from '../options';\n\nexport default class AnimateContent {\n\n  constructor(options = {}, gsap, ScrollTrigger) {\n    this.options = options;\n    Object.assign(this, defaults, options);\n    this.gsap = gsap;\n    this.ScrollTrigger = ScrollTrigger;\n    this.mm = gsap.matchMedia();\n\n    this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n    // Resolve wrapper lazily for SSR safety; accept selector string or Element\n    if (this._isBrowser) {\n      if (options.wrapper instanceof Element) {\n        this.wrapper = options.wrapper;\n      } else if (typeof options.wrapper === 'string') {\n        this.wrapper = document.querySelector(options.wrapper) || document;\n      } else {\n        this.wrapper = document;\n      }\n    } else {\n      this.wrapper = null;\n    }\n\n    this.prefix = options.prefix ? options.prefix : defaults.prefix;\n\n    this.init();\n  }\n\n  async setAnimateAttributes(target, parent = null) {\n    let thisTarget = target;\n\n    if (parent) {\n      thisTarget = parent;\n    }\n\n    if (thisTarget.hasAttribute('data-animate-easing')) {\n      target.style.setProperty(`--${this.prefix}-animate-easing`, thisTarget.getAttribute('data-animate-easing'));\n    }\n    if (thisTarget.hasAttribute('data-animate-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-duration`, thisTarget.getAttribute('data-animate-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-delay')) {\n      target.style.setProperty(`--${this.prefix}-animate-delay`, thisTarget.getAttribute('data-animate-delay') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-delay-mobile')) {\n      target.style.setProperty(`--${this.prefix}-animate-delay-mobile`, thisTarget.getAttribute('data-animate-delay-mobile'));\n    }\n    /* Fade / Opacity */\n    if (thisTarget.hasAttribute('data-animate-opacity-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-duration`, thisTarget.getAttribute('data-animate-opacity-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-opacity-start')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-start`, thisTarget.getAttribute('data-animate-opacity-start'));\n    }\n    if (thisTarget.hasAttribute('data-animate-opacity-end')) {\n      target.style.setProperty(`--${this.prefix}-animate-opacity-end`, thisTarget.getAttribute('data-animate-opacity-end'));\n    }\n    /* Reveal */\n    if (thisTarget.hasAttribute('data-animate-border-radius')) {\n      target.style.setProperty(`--${this.prefix}-animate-border-radius`, thisTarget.getAttribute('data-animate-border-radius'));\n    }\n    if (thisTarget.hasAttribute('data-animate-background')) {\n      target.style.setProperty(`--${this.prefix}-animate-background-color`, thisTarget.getAttribute('data-animate-background'));\n    }\n    if (thisTarget.hasAttribute('data-animate-foreground')) {\n      target.style.setProperty(`--${this.prefix}-animate-foreground-color`, thisTarget.getAttribute('data-animate-foreground'));\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-delay')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-delay-extra`, thisTarget.getAttribute('data-animate-reveal-delay') + 's' );\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-duration`, thisTarget.getAttribute('data-animate-reveal-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-reveal-translate-y')) {\n      target.style.setProperty(`--${this.prefix}-animate-reveal-translate-y`, thisTarget.getAttribute('data-animate-reveal-translate-y'));\n    }\n    /* Slide */\n    if (thisTarget.hasAttribute('data-animate-slide-duration')) {\n      target.style.setProperty(`--${this.prefix}-animate-slide-duration`, thisTarget.getAttribute('data-animate-slide-duration') + 's');\n    }\n    if (thisTarget.hasAttribute('data-animate-slide-offset')) {\n      target.style.setProperty(`--${this.prefix}-animate-slide-offset`, thisTarget.getAttribute('data-animate-slide-offset'));\n    }\n    /* Zoom */\n    if (thisTarget.hasAttribute('data-animate-zoom-start')) {\n      target.style.setProperty(`--${this.prefix}-animate-zoom-start`, thisTarget.getAttribute('data-animate-zoom-start'));\n    }\n    if (thisTarget.hasAttribute('data-animate-zoom-end')) {\n      target.style.setProperty(`--${this.prefix}-animate-zoom-end`, thisTarget.getAttribute('data-animate-zoom-end'));\n    }\n  }\n\n  init() {\n  if (!this._isBrowser || !this.wrapper) return;\n  const myBlocks = this.wrapper.querySelectorAll('[data-animate]');\n\n    if (myBlocks) {\n      this.gsap.utils.toArray(myBlocks).forEach((target) => {\n\n        const isRepeatableString = target.getAttribute('data-animate-repeat');\n        const isRepeatable = (isRepeatableString === 'true');\n\n        let animateStart = target.dataset.animateStart ? target.dataset.animateStart : this.animateStart;\n\n        this.mm.add(\"(max-width: 767.98px)\", () => {\n          animateStart = target.getAttribute('data-animate-mobile-start') ? target.getAttribute('data-animate-mobile-start') : this.animateMobileStart;\n        });\n\n        this.setAnimateAttributes(target);\n\n        this.ScrollTrigger.create({\n          trigger: target.dataset.animateTrigger ? target.dataset.animateTrigger : target,\n          start: animateStart,\n          end: target.dataset.animateEnd ? target.dataset.animateEnd : this.animateEnd,\n          markers: target.dataset.showMarkers ? target.dataset.showMarkers : this.animateMarkers,\n          onEnter: () => {\n            target.classList.add(this.inViewClass)\n          },\n          onEnterBack: () => {\n            target.classList.add(this.inViewClass)\n            target.classList.remove(this.outViewClass)\n          },\n          onLeave: () => {\n            if (isRepeatable == true) {\n              target.classList.add(this.outViewClass)\n            }\n          },\n          onLeaveBack: () => {\n            if (isRepeatable) {\n              target.classList.remove(this.inViewClass)\n            }\n          },\n          once: !isRepeatable,\n        });\n      });\n    }\n\n  const batches = this.wrapper.querySelectorAll('[data-animate-batch]');\n    if ( batches ) {\n      for (const batch of batches) {\n        const targets = batch.querySelectorAll(batch.dataset.animateBatch);\n        const effect = batch.dataset.animateEffect;\n        const inView = this.inViewClass;\n        const outView = this.outViewClass;\n        let animateStart = batch.dataset.animateStart ? batch.dataset.animateStart : this.animateStart\n        let animateDelay = batch.getAttribute('data-animate-delay') ? batch.getAttribute('data-animate-delay'): 0;\n        let isRepeatable = false;\n\n        if (targets) {\n          for (const target of targets) {\n            target.setAttribute('data-animate', effect);\n\n            if (batch.dataset.animateEasing) {\n              target.setAttribute('data-animate-easing', batch.dataset.animateEasing);\n            }\n            if (batch.dataset.animateDuration) {\n              target.setAttribute('data-animate-duration', batch.dataset.animateDuration);\n            }\n            if (batch.dataset.animateStart) {\n              target.setAttribute('data-animate-start', batch.dataset.animateStart);\n            }\n            if (batch.dataset.animateEnd) {\n              target.setAttribute('data-animate-end', batch.dataset.animateEnd);\n            }\n\n            /* Opacity */\n            if (batch.dataset.animateOpacityDuration) {\n              target.setAttribute('data-animate-opacity-duration', batch.dataset.animateOpacityDuration);\n            }\n            if (batch.dataset.animateOpacityStart) {\n              target.setAttribute('data-animate-opacity-start', batch.dataset.animateOpacityStart);\n            }\n            if (batch.dataset.animateOpacityEnd) {\n              target.setAttribute('data-animate-opacity-end', batch.dataset.animateOpacityEnd);\n            }\n\n            /* Reveal */\n            if (batch.dataset.animateBorderRadius) {\n              target.setAttribute('data-animate-border-radius', batch.dataset.animateBorderRadius);\n            }\n            if (batch.dataset.animateBackground) {\n              target.setAttribute('data-animate-background', batch.dataset.animateBackground);\n            }\n            if (batch.dataset.animateForeground) {\n              target.setAttribute('data-animate-foreground', batch.dataset.animateForeground);\n            }\n            if (batch.dataset.animateRevealDelay) {\n              target.setAttribute('data-animate-reveal-delay', batch.dataset.animateRevealDelay);\n            }\n            if (batch.dataset.animateRevealDuration) {\n              target.setAttribute('data-animate-reveal-duration', batch.dataset.animateRevealDuration);\n            }\n            if (batch.dataset.animateRevealTranslateY) {\n              target.setAttribute('data-animate-reveal-translate-y', batch.dataset.animateRevealTranslateY);\n            }\n\n            /* Slide */\n            if (batch.dataset.animateSlideDuration) {\n              target.setAttribute('data-animate-slide-duration', batch.dataset.animateSlideDuration);\n            }\n            if (batch.dataset.animateSlideOffset) {\n              target.setAttribute('data-animate-slide-offset', batch.dataset.animateSlideOffset);\n            }\n\n            /* Zoom */\n            if (batch.dataset.animateZoomStart) {\n              target.setAttribute('data-animate-zoom-start', batch.dataset.animateZoomStart);\n            }\n            if (batch.dataset.animateZoomEnd) {\n              target.setAttribute('data-animate-zoom-end', batch.dataset.animateZoomEnd);\n            }\n\n\n            const isRepeatableString = batch.getAttribute('data-animate-repeat');\n            isRepeatable = (isRepeatableString === 'true');\n\n            this.mm.add(\"(max-width: 767.98px)\", () => {\n              animateDelay = batch.getAttribute('data-animate-mobile-delay') ? batch.getAttribute('data-animate-mobile-delay') : animateDelay;\n              animateStart = batch.getAttribute('data-animate-mobile-start') ? batch.getAttribute('data-animate-mobile-start') : this.animateMobileStart;\n            });\n\n            this.setAnimateAttributes(target);\n          }\n\n          this.ScrollTrigger.batch(targets, {\n            start: animateStart,\n            end: batch.dataset.animateEnd ? batch.dataset.animateEnd : this.animateEnd,\n            markers: batch.dataset.showMarkers ? batch.dataset.showMarkers : this.animateMarkers,\n            onEnter: (elements) => {\n              this.gsap.to(elements, {\n                stagger: {\n                  each: animateDelay,\n                  onComplete() {\n                    this.targets()[0].classList.add(inView); // <= the current target\n                  }\n                }\n              })\n            },\n            onEnterBack: (elements) => {\n              this.gsap.to(elements, {\n                stagger: {\n                  each: animateDelay,\n                  onComplete() {\n                    this.targets()[0].classList.add(inView);\n                    this.targets()[0].classList.remove(outView);\n                  }\n                }\n              })\n            },\n            onLeave: (elements) => {\n              if (isRepeatable == true) {\n                this.gsap.to(elements, {\n                  stagger: {\n                    each: animateDelay,\n                    onComplete() {\n                      this.targets()[0].classList.add(outView);\n                    }\n                  }\n                })\n              }\n            },\n            onLeaveBack: (elements) => {\n              if (isRepeatable) {\n                this.gsap.to(elements, {\n                  stagger: {\n                    each: animateDelay,\n                    onComplete() {\n                      this.targets()[0].classList.remove(inView);\n                    }\n                  }\n                })\n              }\n            },\n          });\n        }\n        batch.classList.add('is-ready');\n      };\n    }\n  }\n}","import { defaults } from \"../options\";\n\nexport default class Parallax {\n  constructor(options = {}, gsap, ScrollTrigger) {\n    Object.assign(this, defaults, options);\n    this.gsap = gsap;\n    this.ScrollTrigger = ScrollTrigger;\n\n    // SSR guard + lazy wrapper resolution\n    this._isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n    \n    // Scope queries to wrapper; accept Element or selector string\n    if (this._isBrowser) {\n      if (options.wrapper instanceof Element) {\n        this.wrapper = options.wrapper;\n      } else if (typeof options.wrapper === 'string') {\n        this.wrapper = document.querySelector(options.wrapper) || document;\n      } else {\n        this.wrapper = document;\n      }\n    } else {\n      this.wrapper = null;\n    }\n\n    this.init();\n  }\n\n  init() {\n  if (!this._isBrowser || !this.wrapper) return;\n  const parallaxNodes = this.wrapper.querySelectorAll('[data-parallax-from]');\n  this.gsap.utils.toArray(parallaxNodes).forEach((element) => {\n      const parallaxToAttr = element.getAttribute(\"data-parallax-to\");\n      if (parallaxToAttr) {\n        const parallaxFromAttr = element.getAttribute(\"data-parallax-from\");\n        let fromProps = {};\n        let toProps = null;\n\n        // Safely parse JSON values\n        if (parallaxFromAttr) {\n          try {\n            fromProps = JSON.parse(parallaxFromAttr);\n          } catch (err) {\n            console.warn(\"byc-animations: invalid JSON in data-parallax-from:\", parallaxFromAttr, element, err);\n            fromProps = {};\n          }\n        }\n\n        try {\n          toProps = JSON.parse(parallaxToAttr);\n        } catch (err) {\n          console.warn(\"byc-animations: invalid JSON in data-parallax-to:\", parallaxToAttr, element, err);\n          toProps = null;\n        }\n\n        if (!toProps) {\n          console.warn(\"byc-animations: skipping parallax, data-parallax-to is missing or invalid:\", element);\n          return;\n        }\n\n        // Normalize scrub value: boolean, number, or fallback to default option\n        const scrubAttr = element.getAttribute(\"data-parallax-scrub\");\n        let scrubValue = this.parallaxScrub;\n        if (scrubAttr !== null) {\n          const scrubRaw = scrubAttr.trim();\n          // Treat empty attribute (e.g. <div data-parallax-scrub>) as \"use default\"\n          if (scrubRaw === \"\") {\n            scrubValue = this.parallaxScrub;\n          } else if (scrubRaw === \"true\" || scrubRaw === \"false\") {\n            scrubValue = scrubRaw === \"true\";\n          } else {\n            const scrubNumber = Number(scrubRaw);\n            scrubValue = Number.isNaN(scrubNumber) ? this.parallaxScrub : scrubNumber;\n          }\n        }\n\n        const parallaxTween = this.gsap.fromTo(element, fromProps, toProps);\n\n        // Resolve trigger relative to wrapper when a selector is provided; fallback to global selector or the element itself\n        const triggerSelector = element.dataset.parallaxTrigger;\n        const resolvedTrigger = triggerSelector\n          ? (this.wrapper.querySelector(triggerSelector) || triggerSelector)\n          : element;\n\n        // Resolve markers: allow per-element override via data-parallax-markers\n        let markersOption = this.parallaxMarkers;\n        if (Object.prototype.hasOwnProperty.call(element.dataset, 'parallaxMarkers')) {\n          const markersRaw = element.dataset.parallaxMarkers;\n          if (markersRaw === '' || markersRaw === 'true') {\n            markersOption = true;\n          } else if (markersRaw === 'false') {\n            markersOption = false;\n          } else if (markersRaw && markersRaw.trim().startsWith('{')) {\n            try {\n              markersOption = JSON.parse(markersRaw);\n            } catch (err) {\n              console.warn('byc-animations: invalid JSON in data-parallax-markers:', markersRaw, element, err);\n              // keep fallback markersOpt\n            }\n          } else {\n            // Any other non-empty value: treat as truthy boolean\n            markersOption = true;\n          }\n        }\n\n        this.ScrollTrigger.create({\n          trigger: resolvedTrigger,\n          start: element.dataset.parallaxStart\n            ? element.dataset.parallaxStart\n            : this.parallaxStart,\n          end: element.dataset.parallaxEnd\n            ? element.dataset.parallaxEnd\n            : this.parallaxEnd,\n          scrub: scrubValue,\n          animation: parallaxTween,\n          markers: markersOption,\n        });\n      } else {\n        console.warn(\"byc-animations: Data-parallax-to value is missing:\", element);\n      }\n    });\n  }\n}\n","//------------------------------------------------------------------------\n// Import Main Styles\n//------------------------------------------------------------------------\nimport \"../sass/library/byc-animations.scss\";\n\n//------------------------------------------------------------------------\n// Import GSAP + Default options\n//------------------------------------------------------------------------\nimport Lenis from \"lenis\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { defaults } from \"./options\";\n\n//------------------------------------------------------------------------\n// Import Custom Modules\n//------------------------------------------------------------------------\nimport SmoothScroll from \"./modules/smooth-scroll\";\nimport AnimateContent from \"./modules/animate-content\";\nimport Parallax from \"./modules/parallax\";\n\nexport default class BycAnimations {\n  constructor(options = {}) {\n    this.options = options;\n    // Override default options with given ones\n    Object.assign(this, defaults, options);\n\n    // SSR guard\n    this._isBrowser =\n      typeof window !== \"undefined\" && typeof document !== \"undefined\";\n\n    if (this._isBrowser) {\n      gsap.registerPlugin(ScrollTrigger);\n    }\n\n    this.init();\n  }\n\n  init() {\n    if (!this._isBrowser) return; // No-op on server\n\n    const prefersMotion =\n      typeof window.matchMedia === \"function\"\n        ? window.matchMedia(\"(prefers-reduced-motion: no-preference)\")\n        : { matches: true };\n\n    if (prefersMotion.matches) {\n      if (this.smoothScroll) {\n        // Keep a reference so we can destroy/stop RAF later\n        this._smooth = new SmoothScroll(this.options, Lenis);\n      }\n      this.initAnimations();\n    }\n\n    // Pause GSAP/ScrollTrigger when tab is hidden; resume when visible\n    this._onVisibilityChange = () => {\n      if (document.hidden) {\n        try {\n          gsap.ticker.sleep();\n        } catch (_) {}\n        try {\n          ScrollTrigger.getAll().forEach((t) => t.disable());\n        } catch (_) {}\n      } else {\n        try {\n          gsap.ticker.wake();\n        } catch (_) {}\n        try {\n          ScrollTrigger.getAll().forEach((t) => t.enable());\n        } catch (_) {}\n        try {\n          ScrollTrigger.refresh();\n        } catch (_) {}\n      }\n    };\n    document.addEventListener(\"visibilitychange\", this._onVisibilityChange);\n  }\n\n  initAnimations() {\n    new AnimateContent(this.options, gsap, ScrollTrigger);\n    new Parallax(this.options, gsap, ScrollTrigger);\n  }\n\n  destroy(animate = true, scroll = true) {\n    if (!this._isBrowser) return; // No-op on server\n    // Remove visibility listener\n    if (this._onVisibilityChange) {\n      document.removeEventListener(\n        \"visibilitychange\",\n        this._onVisibilityChange\n      );\n      this._onVisibilityChange = null;\n    }\n    if (animate) {\n      ScrollTrigger.killAll();\n    }\n    if (scroll) {\n      // Stop RAF loop and destroy lenis cleanly if SmoothScroll was initialized\n      if (this._smooth && typeof this._smooth.destroy === \"function\") {\n        this._smooth.destroy();\n      } else if (window.lenis && typeof window.lenis.destroy === \"function\") {\n        window.lenis.destroy();\n      }\n    }\n  }\n\n  refresh() {\n    if (!this._isBrowser) return; // No-op on server\n    ScrollTrigger.refresh();\n  }\n\n  scrollTo(target, options) {\n    if (!this._isBrowser) return; // No-op on server\n    if (window.lenis && typeof window.lenis.scrollTo === \"function\") {\n      window.lenis.scrollTo(target, options);\n      return;\n    }\n    // Native fallback when Lenis is off\n    try {\n      const el =\n        typeof target === \"string\" ? document.querySelector(target) : target;\n      if (el && typeof el.getBoundingClientRect === \"function\") {\n        const rect = el.getBoundingClientRect();\n        const currentY =\n          window.pageYOffset ||\n          document.documentElement.scrollTop ||\n          document.body.scrollTop ||\n          0;\n        const offset =\n          options && typeof options.offset === \"number\" ? options.offset : 0;\n        const y = rect.top + currentY + offset;\n        window.scrollTo({\n          top: y,\n          behavior: (options && options.behavior) || \"smooth\",\n        });\n      }\n    } catch (_) {\n      /* noop */\n    }\n  }\n\n  start() {\n    if (!this._isBrowser) return; // No-op on server\n    if (window.lenis && typeof window.lenis.start === \"function\") {\n      window.lenis.start();\n    }\n    // this.initAnimations();\n  }\n\n  stop() {\n    if (!this._isBrowser) return; // No-op on server\n    if (window.lenis && typeof window.lenis.stop === \"function\") {\n      window.lenis.stop();\n    }\n  }\n}\n"],"names":["defaults","t","SmoothScroll","options","Lenis","content","wrapper","_ticking","invokeCallback","args","e","direction","progress","scroll","limit","velocity","raf","time","html","body","cls","AnimateContent","gsap","ScrollTrigger","target","parent","thisTarget","myBlocks","isRepeatable","animateStart","batches","batch","targets","effect","inView","outView","animateDelay","elements","Parallax","parallaxNodes","element","parallaxToAttr","parallaxFromAttr","fromProps","toProps","err","scrubAttr","scrubValue","scrubRaw","scrubNumber","parallaxTween","triggerSelector","resolvedTrigger","markersOption","markersRaw","BycAnimations","animate","el","rect","currentY","offset","y"],"mappings":"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"}