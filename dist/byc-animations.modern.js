import t from"@studio-freight/lenis";import{gsap as a}from"gsap";import{ScrollTrigger as e}from"gsap/ScrollTrigger";const i={prefix:"byc",wrapper:null,animateStart:"top 94%",animateMobileStart:"top bottom",animateEnd:"",animateMarkers:!1,inViewClass:"in-view",outViewClass:"out-view",parallaxStart:"top bottom",parallaxEnd:"",parallaxMarkers:!1,parallaxScrub:!0,smoothScroll:!0,smoothTouch:!1,smoothWheel:!0,scrollCallback:null,scrollContent:null,scrollOrientation:"vertical",scrollGestureOrientation:"vertical",scrollDuration:1.2,scrollEasing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),scrollInfinite:!1,scrollLerp:.1,scrollNormalizeWheel:!0,scrollTouchMultiplier:2,scrollWheelMultiplier:1,scrollWrapper:null};class s{constructor(t={},a){Object.assign(this,i,t),this.Lenis=a,this._rafId=null,this._running=!1,this._isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,this._onVisibilityChange=null,this.init()}init(){if(!this._isBrowser)return;const t=this.scrollContent||document.documentElement,a=this.scrollWrapper||window;window.lenis=new this.Lenis({content:t,duration:this.scrollDuration,easing:this.scrollEasing,infinite:this.scrollInfinite,lerp:this.scrollLerp,orientation:this.scrollOrientation,gestureOrientation:this.scrollGestureOrientation,normalizeWheel:this.scrollNormalizeWheel,smoothTouch:this.smoothTouch,smoothWheel:this.smoothWheel,touchMultiplier:this.scrollTouchMultiplier,wheelMultiplier:this.scrollWheelMultiplier,wrapper:a}),window.scrollDirection="down";let e=!1;const i=t=>{if("function"==typeof this.scrollCallback)try{this.scrollCallback(t)}catch(t){}};lenis.on("scroll",({direction:t,progress:a,scroll:s,limit:r,velocity:n})=>{window.scrollDirection=1===t?"down":"up",e||(e=!0,requestAnimationFrame(()=>{e=!1,i({direction:t,progress:a,scroll:s,limit:r,velocity:n})}))}),this._running=!0;const s=t=>{this._running&&(window.lenis&&"function"==typeof window.lenis.raf&&lenis.raf(t),this._rafId=requestAnimationFrame(s))};this._rafId=requestAnimationFrame(s),this._onVisibilityChange=()=>{document.hidden?(this._running=!1,this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=null),window.lenis&&"function"==typeof window.lenis.stop&&window.lenis.stop()):window.lenis&&"function"==typeof window.lenis.start&&"function"==typeof window.lenis.raf&&(window.lenis.start(),this._running||(this._running=!0,this._rafId=requestAnimationFrame(s)))},document.addEventListener("visibilitychange",this._onVisibilityChange)}destroy(){if(this._isBrowser){this._running=!1,this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=null),this._onVisibilityChange&&(document.removeEventListener("visibilitychange",this._onVisibilityChange),this._onVisibilityChange=null),window.lenis&&"function"==typeof window.lenis.destroy&&window.lenis.destroy();try{const t=document.documentElement,a=document.body;["lenis","lenis-smooth","lenis-stopped"].forEach(e=>{t&&t.classList&&t.classList.remove(e),a&&a.classList&&a.classList.remove(e)})}catch(t){}try{delete window.lenis}catch(t){window.lenis=void 0}}}}class r{constructor(t={},a,e){this.options=t,Object.assign(this,i,t),this.gsap=a,this.ScrollTrigger=e,this.mm=a.matchMedia(),this._isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,this.wrapper=this._isBrowser?t.wrapper instanceof Element?t.wrapper:"string"==typeof t.wrapper&&document.querySelector(t.wrapper)||document:null,this.prefix=t.prefix?t.prefix:i.prefix,this.init()}async setAnimateAttributes(t,a=null){let e=t;a&&(e=a),e.hasAttribute("data-animate-easing")&&t.style.setProperty(`--${this.prefix}-animate-easing`,e.getAttribute("data-animate-easing")),e.hasAttribute("data-animate-duration")&&t.style.setProperty(`--${this.prefix}-animate-duration`,e.getAttribute("data-animate-duration")+"s"),e.hasAttribute("data-animate-delay")&&t.style.setProperty(`--${this.prefix}-animate-delay`,e.getAttribute("data-animate-delay")+"s"),e.hasAttribute("data-animate-delay-mobile")&&t.style.setProperty(`--${this.prefix}-animate-delay-mobile`,e.getAttribute("data-animate-delay-mobile")),e.hasAttribute("data-animate-opacity-duration")&&t.style.setProperty(`--${this.prefix}-animate-opacity-duration`,e.getAttribute("data-animate-opacity-duration")+"s"),e.hasAttribute("data-animate-opacity-start")&&t.style.setProperty(`--${this.prefix}-animate-opacity-start`,e.getAttribute("data-animate-opacity-start")),e.hasAttribute("data-animate-opacity-end")&&t.style.setProperty(`--${this.prefix}-animate-opacity-end`,e.getAttribute("data-animate-opacity-end")),e.hasAttribute("data-animate-border-radius")&&t.style.setProperty(`--${this.prefix}-animate-border-radius`,e.getAttribute("data-animate-border-radius")),e.hasAttribute("data-animate-background")&&t.style.setProperty(`--${this.prefix}-animate-background-color`,e.getAttribute("data-animate-background")),e.hasAttribute("data-animate-foreground")&&t.style.setProperty(`--${this.prefix}-animate-foreground-color`,e.getAttribute("data-animate-foreground")),e.hasAttribute("data-animate-reveal-delay")&&t.style.setProperty(`--${this.prefix}-animate-reveal-delay-extra`,e.getAttribute("data-animate-reveal-delay")+"s"),e.hasAttribute("data-animate-reveal-duration")&&t.style.setProperty(`--${this.prefix}-animate-reveal-duration`,e.getAttribute("data-animate-reveal-duration")+"s"),e.hasAttribute("data-animate-reveal-translate-y")&&t.style.setProperty(`--${this.prefix}-animate-reveal-translate-y`,e.getAttribute("data-animate-reveal-translate-y")),e.hasAttribute("data-animate-slide-duration")&&t.style.setProperty(`--${this.prefix}-animate-slide-duration`,e.getAttribute("data-animate-slide-duration")+"s"),e.hasAttribute("data-animate-slide-offset")&&t.style.setProperty(`--${this.prefix}-animate-slide-offset`,e.getAttribute("data-animate-slide-offset")),e.hasAttribute("data-animate-zoom-start")&&t.style.setProperty(`--${this.prefix}-animate-zoom-start`,e.getAttribute("data-animate-zoom-start")),e.hasAttribute("data-animate-zoom-end")&&t.style.setProperty(`--${this.prefix}-animate-zoom-end`,e.getAttribute("data-animate-zoom-end"))}init(){if(!this._isBrowser||!this.wrapper)return;const t=this.wrapper.querySelectorAll("[data-animate]");t&&this.gsap.utils.toArray(t).forEach(t=>{const a="true"===t.getAttribute("data-animate-repeat");let e=t.dataset.animateStart?t.dataset.animateStart:this.animateStart;this.mm.add("(max-width: 767.98px)",()=>{e=t.getAttribute("data-animate-mobile-start")?t.getAttribute("data-animate-mobile-start"):this.animateMobileStart}),this.setAnimateAttributes(t),this.ScrollTrigger.create({trigger:t.dataset.animateTrigger?t.dataset.animateTrigger:t,start:e,end:t.dataset.animateEnd?t.dataset.animateEnd:this.animateEnd,markers:t.dataset.showMarkers?t.dataset.showMarkers:this.animateMarkers,onEnter:()=>{t.classList.add(this.inViewClass)},onEnterBack:()=>{t.classList.add(this.inViewClass),t.classList.remove(this.outViewClass)},onLeave:()=>{1==a&&t.classList.add(this.outViewClass)},onLeaveBack:()=>{a&&t.classList.remove(this.inViewClass)},once:!a})});const a=this.wrapper.querySelectorAll("[data-animate-batch]");if(a)for(const t of a){const a=t.querySelectorAll(t.dataset.animateBatch),e=t.dataset.animateEffect,i=this.inViewClass,s=this.outViewClass;let r=t.dataset.animateStart?t.dataset.animateStart:this.animateStart,n=t.getAttribute("data-animate-delay")?t.getAttribute("data-animate-delay"):0,o=!1;if(a){for(const i of a){i.setAttribute("data-animate",e),t.dataset.animateEasing&&i.setAttribute("data-animate-easing",t.dataset.animateEasing),t.dataset.animateDuration&&i.setAttribute("data-animate-duration",t.dataset.animateDuration),t.dataset.animateStart&&i.setAttribute("data-animate-start",t.dataset.animateStart),t.dataset.animateEnd&&i.setAttribute("data-animate-end",t.dataset.animateEnd),t.dataset.animateOpacityDuration&&i.setAttribute("data-animate-opacity-duration",t.dataset.animateOpacityDuration),t.dataset.animateOpacityStart&&i.setAttribute("data-animate-opacity-start",t.dataset.animateOpacityStart),t.dataset.animateOpacityEnd&&i.setAttribute("data-animate-opacity-end",t.dataset.animateOpacityEnd),t.dataset.animateBorderRadius&&i.setAttribute("data-animate-border-radius",t.dataset.animateBorderRadius),t.dataset.animateBackground&&i.setAttribute("data-animate-background",t.dataset.animateBackground),t.dataset.animateForeground&&i.setAttribute("data-animate-foreground",t.dataset.animateForeground),t.dataset.animateRevealDelay&&i.setAttribute("data-animate-reveal-delay",t.dataset.animateRevealDelay),t.dataset.animateRevealDuration&&i.setAttribute("data-animate-reveal-duration",t.dataset.animateRevealDuration),t.dataset.animateRevealTranslateY&&i.setAttribute("data-animate-reveal-translate-y",t.dataset.animateRevealTranslateY),t.dataset.animateSlideDuration&&i.setAttribute("data-animate-slide-duration",t.dataset.animateSlideDuration),t.dataset.animateSlideOffset&&i.setAttribute("data-animate-slide-offset",t.dataset.animateSlideOffset),t.dataset.animateZoomStart&&i.setAttribute("data-animate-zoom-start",t.dataset.animateZoomStart),t.dataset.animateZoomEnd&&i.setAttribute("data-animate-zoom-end",t.dataset.animateZoomEnd);const a=t.getAttribute("data-animate-repeat");o="true"===a,this.mm.add("(max-width: 767.98px)",()=>{n=t.getAttribute("data-animate-mobile-delay")?t.getAttribute("data-animate-mobile-delay"):n,r=t.getAttribute("data-animate-mobile-start")?t.getAttribute("data-animate-mobile-start"):this.animateMobileStart}),this.setAnimateAttributes(i)}this.ScrollTrigger.batch(a,{start:r,end:t.dataset.animateEnd?t.dataset.animateEnd:this.animateEnd,markers:t.dataset.showMarkers?t.dataset.showMarkers:this.animateMarkers,onEnter:t=>{this.gsap.to(t,{stagger:{each:n,onComplete(){this.targets()[0].classList.add(i)}}})},onEnterBack:t=>{this.gsap.to(t,{stagger:{each:n,onComplete(){this.targets()[0].classList.add(i),this.targets()[0].classList.remove(s)}}})},onLeave:t=>{1==o&&this.gsap.to(t,{stagger:{each:n,onComplete(){this.targets()[0].classList.add(s)}}})},onLeaveBack:t=>{o&&this.gsap.to(t,{stagger:{each:n,onComplete(){this.targets()[0].classList.remove(i)}}})}})}t.classList.add("is-ready")}}}class n{constructor(t={},a,e){Object.assign(this,i,t),this.gsap=a,this.ScrollTrigger=e,this._isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,this.wrapper=this._isBrowser?t.wrapper instanceof Element?t.wrapper:"string"==typeof t.wrapper&&document.querySelector(t.wrapper)||document:null,this.init()}init(){if(!this._isBrowser||!this.wrapper)return;const t=this.wrapper.querySelectorAll("[data-parallax-from]");this.gsap.utils.toArray(t).forEach(t=>{const a=t.getAttribute("data-parallax-to");if(a){const e=t.getAttribute("data-parallax-from");let i={},s=null;if(e)try{i=JSON.parse(e)}catch(a){console.warn("byc-animations: invalid JSON in data-parallax-from:",e,t,a),i={}}try{s=JSON.parse(a)}catch(e){console.warn("byc-animations: invalid JSON in data-parallax-to:",a,t,e),s=null}if(!s)return void console.warn("byc-animations: skipping parallax, data-parallax-to is missing or invalid:",t);const r=t.getAttribute("data-parallax-scrub");let n=this.parallaxScrub;if(null!==r){const t=r.trim();if("true"===t||"false"===t)n="true"===t;else{const a=Number(t);n=Number.isNaN(a)?this.parallaxScrub:a}}const o=this.gsap.fromTo(t,i,s),l=t.dataset.parallaxTrigger,d=l?this.wrapper.querySelector(l)||l:t;let m=this.parallaxMarkers;if(Object.prototype.hasOwnProperty.call(t.dataset,"parallaxMarkers")){const a=t.dataset.parallaxMarkers;if(""===a||"true"===a)m=!0;else if("false"===a)m=!1;else if(a&&a.trim().startsWith("{"))try{m=JSON.parse(a)}catch(e){console.warn("byc-animations: invalid JSON in data-parallax-markers:",a,t,e)}else m=!0}this.ScrollTrigger.create({trigger:d,start:t.dataset.parallaxStart?t.dataset.parallaxStart:this.parallaxStart,end:t.dataset.parallaxEnd?t.dataset.parallaxEnd:this.parallaxEnd,scrub:n,animation:o,markers:m})}else console.warn("byc-animations: data-parallax-to value is missing:",t)})}}class o{constructor(t={}){this.options=t,Object.assign(this,i,t),this._isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,this._isBrowser&&a.registerPlugin(e),this.init()}init(){this._isBrowser&&(("function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: no-preference)"):{matches:!0}).matches&&(this.smoothScroll&&(this._smooth=new s(this.options,t)),this.initAnimations()),this._onVisibilityChange=()=>{if(document.hidden){try{a.ticker.sleep()}catch(t){}try{e.getAll().forEach(t=>t.disable())}catch(t){}}else{try{a.ticker.wake()}catch(t){}try{e.getAll().forEach(t=>t.enable())}catch(t){}try{e.refresh()}catch(t){}}},document.addEventListener("visibilitychange",this._onVisibilityChange))}initAnimations(){new r(this.options,a,e),new n(this.options,a,e)}destroy(t=!0,a=!0){this._isBrowser&&(this._onVisibilityChange&&(document.removeEventListener("visibilitychange",this._onVisibilityChange),this._onVisibilityChange=null),t&&e.killAll(),a&&(this._smooth&&"function"==typeof this._smooth.destroy?this._smooth.destroy():window.lenis&&"function"==typeof window.lenis.destroy&&window.lenis.destroy()))}refresh(){this._isBrowser&&e.refresh()}scrollTo(t,a){if(this._isBrowser)if(window.lenis&&"function"==typeof window.lenis.scrollTo)window.lenis.scrollTo(t,a);else try{const e="string"==typeof t?document.querySelector(t):t;if(e&&"function"==typeof e.getBoundingClientRect){const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo({top:t.top+i+(a&&"number"==typeof a.offset?a.offset:0),behavior:a&&a.behavior||"smooth"})}}catch(t){}}start(){this._isBrowser&&window.lenis&&"function"==typeof window.lenis.start&&window.lenis.start()}stop(){this._isBrowser&&window.lenis&&"function"==typeof window.lenis.stop&&window.lenis.stop()}}export{o as default};
//# sourceMappingURL=byc-animations.modern.js.map
