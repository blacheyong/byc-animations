import t from"@studio-freight/lenis";import{gsap as a}from"gsap";import{ScrollTrigger as e}from"gsap/ScrollTrigger";const i={prefix:"byc",animateStart:"top 70%",animateEnd:"",animateMarkers:!1,inViewClass:"in-view",outViewClass:"out-view",parallaxStart:"top bottom",parallaxEnd:"",parallaxMarkers:!1,parallaxScrub:!0,smoothScroll:!0,smoothTouch:!1,smoothWheel:!0,scrollCallback:null,scrollContent:document.documentElement,scrollOrientation:"vertical",scrollGestureOrientation:"vertical",scrollDuration:1.2,scrollEasing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),scrollInfinite:!1,scrollLerp:.1,scrollNormalizeWheel:!0,scrollTouchMultiplier:2,scrollWheelMultiplier:1,scrollWrapper:window};class s{constructor(t={},a){Object.assign(this,i,t),this.Lenis=a,this.init()}init(){window.lenis=new this.Lenis({content:this.scrollContent,duration:this.scrollDuration,easing:this.scrollEasing,infinite:this.scrollInfinite,lerp:this.scrollLerp,orientation:this.scrollOrientation,gestureOrientation:this.scrollGestureOrientation,normalizeWheel:this.scrollNormalizeWheel,smoothTouch:this.smoothTouch,smoothWheel:this.smoothWheel,touchMultiplier:this.scrollTouchMultiplier,wheelMultiplier:this.scrollWheelMultiplier,wrapper:this.scrollWrapper}),window.scrollDirection="down",lenis.on("scroll",({direction:t})=>{window.scrollDirection=1===t?"down":"up"}),requestAnimationFrame(function t(a){lenis.raf(a),requestAnimationFrame(t)})}}class r{constructor(t={},a,e){this.options=t,Object.assign(this,i,t),this.gsap=a,this.ScrollTrigger=e,this.prefix=t.prefix?t.prefix:i.prefix,this.init()}async setAnimateAttributes(t,a=null){let e=t;a&&(e=a),e.hasAttribute("data-animate-easing")&&t.style.setProperty(`--${this.prefix}-animate-easing`,e.getAttribute("data-animate-easing")),e.hasAttribute("data-animate-duration")&&t.style.setProperty(`--${this.prefix}-animate-duration`,e.getAttribute("data-animate-duration")+"s"),e.hasAttribute("data-animate-delay")&&t.style.setProperty(`--${this.prefix}-animate-delay`,e.getAttribute("data-animate-delay")+"s"),e.hasAttribute("data-animate-delay-mobile")&&t.style.setProperty(`--${this.prefix}-animate-delay-mobile`,e.getAttribute("data-animate-delay-mobile")),e.hasAttribute("data-animate-opacity-duration")&&t.style.setProperty(`--${this.prefix}-animate-opacity-duration`,e.getAttribute("data-animate-opacity-duration")+"s"),e.hasAttribute("data-animate-opacity-start")&&t.style.setProperty(`--${this.prefix}-animate-opacity-start`,e.getAttribute("data-animate-opacity-start")),e.hasAttribute("data-animate-opacity-end")&&t.style.setProperty(`--${this.prefix}-animate-opacity-end`,e.getAttribute("data-animate-opacity-end")),e.hasAttribute("data-animate-border-radius")&&t.style.setProperty(`--${this.prefix}-animate-border-radius`,e.getAttribute("data-animate-border-radius")),e.hasAttribute("data-animate-background")&&t.style.setProperty(`--${this.prefix}-animate-background-color`,e.getAttribute("data-animate-background")),e.hasAttribute("data-animate-foreground")&&t.style.setProperty(`--${this.prefix}-animate-foreground-color`,e.getAttribute("data-animate-foreground")),e.hasAttribute("data-animate-reveal-delay")&&t.style.setProperty(`--${this.prefix}-animate-reveal-delay-extra`,e.getAttribute("data-animate-reveal-delay")+"s"),e.hasAttribute("data-animate-reveal-duration")&&t.style.setProperty(`--${this.prefix}-animate-reveal-duration`,e.getAttribute("data-animate-reveal-duration")+"s"),e.hasAttribute("data-animate-slide-duration")&&t.style.setProperty(`--${this.prefix}-animate-slide-duration`,e.getAttribute("data-animate-slide-duration")+"s"),e.hasAttribute("data-animate-slide-offset")&&t.style.setProperty(`--${this.prefix}-animate-slide-offset`,e.getAttribute("data-animate-slide-offset")),e.hasAttribute("data-animate-zoom-start")&&t.style.setProperty(`--${this.prefix}-animate-zoom-start`,e.getAttribute("data-animate-zoom-start")),e.hasAttribute("data-animate-zoom-end")&&t.style.setProperty(`--${this.prefix}-animate-zoom-end`,e.getAttribute("data-animate-zoom-end"))}init(){const t=document.querySelectorAll("[data-animate]");t&&this.gsap.utils.toArray(t).forEach(t=>{const a="true"===t.getAttribute("data-animate-repeat");this.setAnimateAttributes(t),this.ScrollTrigger.create({trigger:t.dataset.animateTrigger?t.dataset.animateTrigger:t,start:t.dataset.animateStart?t.dataset.animateStart:this.animateStart,end:t.dataset.animateEnd?t.dataset.animateEnd:this.animateEnd,markers:this.animateMarkers,onEnter:()=>{t.classList.add(this.inViewClass)},onEnterBack:()=>{t.classList.add(this.inViewClass),t.classList.remove(this.outViewClass)},onLeave:()=>{1==a&&t.classList.add(this.outViewClass)},onLeaveBack:()=>{a&&t.classList.remove(this.inViewClass)},once:!a})});const a=document.querySelectorAll("[data-animate-batch]");if(a)for(const t of a){const a=t.querySelectorAll(t.dataset.animateBatch),e=t.dataset.animateEffect,i=this.inViewClass,s=this.outViewClass;let r=0,n=!1;if(a){for(const i of a){i.setAttribute("data-animate",e),t.dataset.animateEasing&&i.setAttribute("data-animate-easing",t.dataset.animateEasing),t.dataset.animateDuration&&i.setAttribute("data-animate-duration",t.dataset.animateDuration),t.dataset.animateStart&&i.setAttribute("data-animate-start",t.dataset.animateStart),t.dataset.animateEnd&&i.setAttribute("data-animate-end",t.dataset.animateEnd),t.dataset.animateOpacityDuration&&i.setAttribute("data-animate-opacity-duration",t.dataset.animateOpacityDuration),t.dataset.animateOpacityStart&&i.setAttribute("data-animate-opacity-start",t.dataset.animateOpacityStart),t.dataset.animateOpacityEnd&&i.setAttribute("data-animate-opacity-end",t.dataset.animateOpacityEnd),t.dataset.animateBorderRadius&&i.setAttribute("data-animate-border-radius",t.dataset.animateBorderRadius),t.dataset.animateBackground&&i.setAttribute("data-animate-background",t.dataset.animateBackground),t.dataset.animateForeground&&i.setAttribute("data-animate-foreground",t.dataset.animateForeground),t.dataset.animateRevealDelay&&i.setAttribute("data-animate-reveal-delay",t.dataset.animateRevealDelay),t.dataset.animateRevealDuration&&i.setAttribute("data-animate-reveal-duration",t.dataset.animateRevealDuration),t.dataset.animateSlideDuration&&i.setAttribute("data-animate-slide-duration",t.dataset.animateSlideDuration),t.dataset.animateSlideOffset&&i.setAttribute("data-animate-slide-offset",t.dataset.animateSlideOffset),t.dataset.animateZoomStart&&i.setAttribute("data-animate-zoom-start",t.dataset.animateZoomStart),t.dataset.animateZoomEnd&&i.setAttribute("data-animate-zoom-end",t.dataset.animateZoomEnd);const a=t.getAttribute("data-animate-repeat");n="true"===a,r=t.getAttribute("data-animate-delay"),this.setAnimateAttributes(i)}this.ScrollTrigger.batch(a,{onEnter:t=>{this.gsap.to(t,{stagger:{each:r,onComplete(){this.targets()[0].classList.add(i)}}})},onEnterBack:t=>{this.gsap.to(t,{stagger:{each:r,onComplete(){this.targets()[0].classList.add(i),this.targets()[0].classList.remove(s)}}})},onLeave:t=>{1==n&&this.gsap.to(t,{stagger:{each:r,onComplete(){this.targets()[0].classList.add(s)}}})},onLeaveBack:t=>{n&&this.gsap.to(t,{stagger:{each:r,onComplete(){this.targets()[0].classList.remove(i)}}})}})}t.classList.add("is-ready")}}}class n{constructor(t={},a,e){Object.assign(this,i,t),this.gsap=a,this.ScrollTrigger=e,this.init()}init(){this.gsap.utils.toArray("[data-parallax-from]").forEach(t=>{if(t.getAttribute("data-parallax-to")){const a=JSON.parse(t.getAttribute("data-parallax-from")),e=JSON.parse(t.getAttribute("data-parallax-to")),i=t.getAttribute("data-parallax-scrub");let s=i;s="true"===i||"false"===i?"true"===i:Number(i);const r=this.gsap.fromTo(t,a,e);this.ScrollTrigger.create({trigger:t.dataset.parallaxTrigger?t.dataset.parallaxTrigger:t,start:t.dataset.parallaxStart?t.dataset.parallaxStart:this.parallaxStart,end:t.dataset.parallaxEnd?t.dataset.parallaxEnd:this.parallaxEnd,scrub:i?s:this.parallaxScrub,animation:r,markers:this.parallaxMarkers})}else console.log("ERROR: data-parallax-to value is missing")})}}class o{constructor(t={}){a.registerPlugin(e),this.options=t,Object.assign(this,i,t),this.init()}init(){window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&(this.smoothScroll&&new s(this.options,t),this.initAnimations())}initAnimations(){new r(this.options,a,e),new n(this.options,a,e)}destroy(t=!0,a=!0){t&&e.killAll(),a&&window.lenis.destroy()}refresh(){e.refresh()}scrollTo(t,a){window.lenis.scrollTo(t,a)}start(){window.lenis.start()}stop(){window.lenis.stop()}}export{o as default};
//# sourceMappingURL=byc-animations.modern.js.map
